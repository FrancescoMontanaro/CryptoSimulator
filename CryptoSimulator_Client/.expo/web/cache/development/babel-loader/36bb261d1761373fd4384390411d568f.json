{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport * as firebase from 'firebase';\nimport \"firebase/auth\";\nimport \"firebase/firestore\";\nimport \"firebase/functions\";\nimport \"firebase/storage\";\nexport function registration(email, password, lastName, firstName) {\n  var currentUser, db;\n  return _regeneratorRuntime.async(function registration$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          _context.next = 3;\n          return _regeneratorRuntime.awrap(firebase.auth().createUserWithEmailAndPassword(email, password));\n\n        case 3:\n          currentUser = firebase.auth().currentUser;\n          db = firebase.firestore();\n          db.collection(\"users\").doc(currentUser.uid).set({\n            email: currentUser.email,\n            lastName: lastName,\n            firstName: firstName\n          });\n          _context.next = 11;\n          break;\n\n        case 8:\n          _context.prev = 8;\n          _context.t0 = _context[\"catch\"](0);\n          Alert.alert(\"There is something wrong!!!!\", _context.t0.message);\n\n        case 11:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, [[0, 8]], Promise);\n}\nexport function signIn(email, password) {\n  return _regeneratorRuntime.async(function signIn$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.prev = 0;\n          _context2.next = 3;\n          return _regeneratorRuntime.awrap(firebase.auth().signInWithEmailAndPassword(email, password));\n\n        case 3:\n          _context2.next = 8;\n          break;\n\n        case 5:\n          _context2.prev = 5;\n          _context2.t0 = _context2[\"catch\"](0);\n          Alert.alert(\"There is something wrong!\", _context2.t0.message);\n\n        case 8:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  }, null, null, [[0, 5]], Promise);\n}\nexport function loggingOut() {\n  return _regeneratorRuntime.async(function loggingOut$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n          _context3.prev = 0;\n          _context3.next = 3;\n          return _regeneratorRuntime.awrap(firebase.auth().signOut());\n\n        case 3:\n          _context3.next = 8;\n          break;\n\n        case 5:\n          _context3.prev = 5;\n          _context3.t0 = _context3[\"catch\"](0);\n          Alert.alert('There is something wrong!', _context3.t0.message);\n\n        case 8:\n        case \"end\":\n          return _context3.stop();\n      }\n    }\n  }, null, null, [[0, 5]], Promise);\n}\nexport function getCryptoList() {\n  return _regeneratorRuntime.async(function getCryptoList$(_context4) {\n    while (1) {\n      switch (_context4.prev = _context4.next) {\n        case 0:\n          return _context4.abrupt(\"return\", new Promise(function (resolve, reject) {\n            var getCryptoList = firebase.functions.httpsCallable('getCryptoList');\n            getCryptoList().then(function (response) {\n              resolve(response);\n            }).catch(function (error) {\n              reject(error);\n            });\n          }));\n\n        case 1:\n        case \"end\":\n          return _context4.stop();\n      }\n    }\n  }, null, null, null, Promise);\n}","map":{"version":3,"sources":["/Users/francescomontanaro/Desktop/UniversitaÌ€/Corsi/Design and Implementation of Mobile Applications/CryptoSimulator_Client/APIs/Firebase.js"],"names":["firebase","registration","email","password","lastName","firstName","auth","createUserWithEmailAndPassword","currentUser","db","firestore","collection","doc","uid","set","Alert","alert","message","signIn","signInWithEmailAndPassword","loggingOut","signOut","getCryptoList","Promise","resolve","reject","functions","httpsCallable","then","response","catch","error"],"mappings":";AAAA,OAAO,KAAKA,QAAZ,MAA0B,UAA1B;AACA,OAAO,eAAP;AACA,OAAO,oBAAP;AACA,OAAO,oBAAP;AACA,OAAO,kBAAP;AAGA,OAAO,SAAeC,YAAf,CAA4BC,KAA5B,EAAmCC,QAAnC,EAA6CC,QAA7C,EAAuDC,SAAvD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2CAEGL,QAAQ,CAACM,IAAT,GAAgBC,8BAAhB,CAA+CL,KAA/C,EAAsDC,QAAtD,CAFH;;AAAA;AAGGK,UAAAA,WAHH,GAGiBR,QAAQ,CAACM,IAAT,GAAgBE,WAHjC;AAKGC,UAAAA,EALH,GAKQT,QAAQ,CAACU,SAAT,EALR;AAMHD,UAAAA,EAAE,CAACE,UAAH,CAAc,OAAd,EACGC,GADH,CACOJ,WAAW,CAACK,GADnB,EAEGC,GAFH,CAEO;AACHZ,YAAAA,KAAK,EAAEM,WAAW,CAACN,KADhB;AAEHE,YAAAA,QAAQ,EAAEA,QAFP;AAGHC,YAAAA,SAAS,EAAEA;AAHR,WAFP;AANG;AAAA;;AAAA;AAAA;AAAA;AAcHU,UAAAA,KAAK,CAACC,KAAN,CAAY,8BAAZ,EAA4C,YAAIC,OAAhD;;AAdG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAkBP,OAAO,SAAeC,MAAf,CAAsBhB,KAAtB,EAA6BC,QAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2CAEEH,QAAQ,CACVM,IADE,GAEFa,0BAFE,CAEyBjB,KAFzB,EAEgCC,QAFhC,CAFF;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAMHY,UAAAA,KAAK,CAACC,KAAN,CAAY,2BAAZ,EAAyC,aAAIC,OAA7C;;AANG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUP,OAAO,SAAeG,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2CAEGpB,QAAQ,CAACM,IAAT,GAAgBe,OAAhB,EAFH;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAIHN,UAAAA,KAAK,CAACC,KAAN,CAAY,2BAAZ,EAAyC,aAAIC,OAA7C;;AAJG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQP,OAAO,SAAeK,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA,4CACE,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACpC,gBAAIH,aAAa,GAAGtB,QAAQ,CAAC0B,SAAT,CAAmBC,aAAnB,CAAiC,eAAjC,CAApB;AACAL,YAAAA,aAAa,GAAGM,IAAhB,CAAqB,UAAAC,QAAQ,EAAG;AAC5BL,cAAAA,OAAO,CAACK,QAAD,CAAP;AACH,aAFD,EAEGC,KAFH,CAES,UAAAC,KAAK,EAAG;AACbN,cAAAA,MAAM,CAACM,KAAD,CAAN;AACH,aAJD;AAKH,WAPM,CADF;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA","sourcesContent":["import * as firebase from 'firebase'\nimport \"firebase/auth\";\nimport \"firebase/firestore\";\nimport \"firebase/functions\";\nimport \"firebase/storage\";\n\n\nexport async function registration(email, password, lastName, firstName) {\n  try {\n    await firebase.auth().createUserWithEmailAndPassword(email, password);\n    const currentUser = firebase.auth().currentUser;\n\n    const db = firebase.firestore();\n    db.collection(\"users\")\n      .doc(currentUser.uid)\n      .set({\n        email: currentUser.email,\n        lastName: lastName,\n        firstName: firstName,\n      });\n  } catch (err) {\n    Alert.alert(\"There is something wrong!!!!\", err.message);\n  }\n}\n\nexport async function signIn(email, password) {\n  try {\n   await firebase\n      .auth()\n      .signInWithEmailAndPassword(email, password);\n  } catch (err) {\n    Alert.alert(\"There is something wrong!\", err.message);\n  }\n}\n\nexport async function loggingOut() {\n  try {\n    await firebase.auth().signOut();\n  } catch (err) {\n    Alert.alert('There is something wrong!', err.message);\n  }\n}\n\nexport async function getCryptoList(){\n  return new Promise((resolve, reject) => {\n      var getCryptoList = firebase.functions.httpsCallable('getCryptoList');\n      getCryptoList().then(response =>{\n          resolve(response);\n      }).catch(error =>{\n          reject(error);\n      })\n  })\n}"]},"metadata":{},"sourceType":"module"}