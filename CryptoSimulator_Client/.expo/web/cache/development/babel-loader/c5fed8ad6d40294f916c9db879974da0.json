{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _jsxFileName = \"/Users/francescomontanaro/Desktop/Universita\\u0300/Corsi/Design and Implementation of Mobile Applications/CryptoSimulator_Client/components/Charts.js\",\n    _this2 = this;\n\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport View from \"react-native-web/dist/exports/View\";\nimport PanResponder from \"react-native-web/dist/exports/PanResponder\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport { Defs, LinearGradient, Stop, Path } from 'react-native-svg';\nimport { AreaChart } from 'react-native-svg-charts';\nimport React, { useState } from 'react';\nimport PriceViewer from \"./PriceViewer\";\nimport 'react-native-gesture-handler';\nimport * as shape from 'd3-shape';\nimport Tooltip from \"./Tooltip\";\nimport \"firebase/functions\";\nexport default function Charts(props) {\n  var _this = this;\n\n  var _useState = useState(true),\n      _useState2 = _slicedToArray(_useState, 2),\n      scrollable = _useState2[0],\n      setScrollable = _useState2[1];\n\n  var setScroll = function setScroll(scroll) {\n    setScrollable(scroll);\n  };\n\n  var renderItem = function renderItem(_ref) {\n    var item = _ref.item;\n    return React.createElement(Chart, {\n      name: item.name,\n      symbol: item.symbol,\n      dataLength: props.cryptoData.length,\n      scroll: setScroll,\n      data: item.values.map(function (x) {\n        return [x[0], x[4]];\n      }),\n      colorScheme: props.colorScheme,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 21,\n        columnNumber: 7\n      }\n    });\n  };\n\n  return React.createElement(SafeAreaView, {\n    style: {\n      flex: 1,\n      backgroundColor: props.colorScheme === 'dark' ? '#161730' : '#e9f0ff'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 5\n    }\n  }, React.createElement(View, {\n    style: [styles.topBar, {\n      backgroundColor: props.colorScheme === 'dark' ? '#161730' : '#e9f0ff'\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 7\n    }\n  }, React.createElement(Text, {\n    style: [styles.text, {\n      fontSize: 18,\n      color: props.colorScheme === 'dark' ? '#fff' : '#000'\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 9\n    }\n  }, \"CryptoSimulator\")), React.createElement(FlatList, {\n    data: props.cryptoData,\n    renderItem: renderItem,\n    contentContainerStyle: styles.container,\n    showsVerticalScrollIndicator: false,\n    scrollEnabled: scrollable,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 7\n    }\n  }));\n}\n;\n\nvar Chart = function Chart(props) {\n  var allData = props.data;\n\n  var _useState3 = useState(allData.filter(function (sample) {\n    return sample[0] >= new Date().getTime() - 30 * 24 * 60 * 60 * 1000;\n  })),\n      _useState4 = _slicedToArray(_useState3, 2),\n      data = _useState4[0],\n      setData = _useState4[1];\n\n  var _useState5 = useState([0, 1, 0, 0, 0]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      period = _useState6[0],\n      setPeriod = _useState6[1];\n\n  var _useState7 = useState(-1),\n      _useState8 = _slicedToArray(_useState7, 2),\n      touchX = _useState8[0],\n      setTouchX = _useState8[1];\n\n  var width = Math.ceil(0.92 * Dimensions.get('window').width - 40);\n\n  var ChartLine = function ChartLine(_ref2) {\n    var line = _ref2.line;\n    return React.createElement(Path, {\n      key: 'line',\n      d: line,\n      stroke: 'rgb(41, 114, 255)',\n      fill: 'none',\n      strokeWidth: 2,\n      __self: _this2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 5\n      }\n    });\n  };\n\n  var Gradient = function Gradient(_ref3) {\n    var index = _ref3.index;\n    return React.createElement(Defs, {\n      key: index,\n      __self: _this2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 5\n      }\n    }, React.createElement(LinearGradient, {\n      id: 'gradient',\n      x1: '0%',\n      y1: '0%',\n      x2: '0%',\n      y2: '100%',\n      __self: _this2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }\n    }, React.createElement(Stop, {\n      offset: '0%',\n      stopColor: 'rgb(41, 114, 255)',\n      stopOpacity: 0.2,\n      __self: _this2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 13\n      }\n    }), React.createElement(Stop, {\n      offset: '50%',\n      stopColor: 'rgb(41, 114, 255)',\n      stopOpacity: 0,\n      __self: _this2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 13\n      }\n    })));\n  };\n\n  var panResponder = React.useRef(PanResponder.create({\n    onStartShouldSetPanResponder: function onStartShouldSetPanResponder() {\n      return true;\n    },\n    onPanResponderGrant: function onPanResponderGrant(evt) {\n      props.scroll(false);\n\n      if (evt.nativeEvent.locationX >= 0 && evt.nativeEvent.locationX <= width) {\n        setTouchX(evt.nativeEvent.locationX);\n      }\n    },\n    onPanResponderMove: function onPanResponderMove(evt) {\n      if (evt.nativeEvent.locationX >= 0 && evt.nativeEvent.locationX <= width) {\n        setTouchX(evt.nativeEvent.locationX);\n      }\n    },\n    onPanResponderRelease: function onPanResponderRelease() {\n      props.scroll(true);\n      setTouchX(-1);\n    },\n    onPanResponderTerminate: function onPanResponderTerminate() {\n      props.scroll(true);\n      setTouchX(-1);\n    }\n  })).current;\n\n  function buttonCLicked(index) {\n    var newPeriod = [0, 0, 0, 0, 0];\n    newPeriod[index] = 1;\n    setPeriod(newPeriod);\n    var currentDate = new Date().getTime();\n    var newData;\n\n    if (index == 0) {\n      var end = currentDate - 7 * 24 * 60 * 60 * 1000;\n      newData = allData.filter(function (sample) {\n        return sample[0] >= end;\n      });\n    } else if (index == 1) {\n      var end = currentDate - 30 * 24 * 60 * 60 * 1000;\n      newData = allData.filter(function (sample) {\n        return sample[0] >= end;\n      });\n    } else if (index == 2) {\n      var end = currentDate - 90 * 24 * 60 * 60 * 1000;\n      newData = allData.filter(function (sample) {\n        return sample[0] >= end;\n      });\n    } else if (index == 3) {\n      var end = currentDate - 365 * 24 * 60 * 60 * 1000;\n      newData = allData.filter(function (sample) {\n        return sample[0] >= end;\n      });\n    } else if (index == 4) {\n      newData = allData;\n    }\n\n    setData(newData);\n  }\n\n  return React.createElement(View, {\n    style: [styles.chartContainer, {\n      backgroundColor: props.colorScheme === 'dark' ? '#212244' : '#fff'\n    }],\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 5\n    }\n  }, React.createElement(View, {\n    style: {\n      flex: 1,\n      textAlign: 'left'\n    },\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 7\n    }\n  }, React.createElement(Text, {\n    style: [styles.cryptoSymbol, {\n      color: props.colorScheme === 'dark' ? '#fff' : '#000'\n    }],\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 9\n    }\n  }, props.symbol), React.createElement(Text, {\n    style: [styles.cryptoName, {\n      color: props.colorScheme === 'dark' ? '#fff' : '#000'\n    }],\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 9\n    }\n  }, props.name)), React.createElement(View, {\n    style: {\n      flex: 1,\n      height: 20,\n      textAlign: 'center',\n      marginBottom: 20\n    },\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 7\n    }\n  }, React.createElement(PriceViewer, {\n    touchX: touchX,\n    colorScheme: props.colorScheme,\n    deviceWidth: width,\n    data: data,\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 9\n    }\n  })), React.createElement(View, {\n    style: {\n      height: 80,\n      flexDirection: 'row',\n      marginBottom: 15,\n      marginTop: 15\n    },\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 7\n    }\n  }, React.createElement(View, _extends({\n    style: {\n      flex: 1\n    }\n  }, panResponder.panHandlers, {\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 9\n    }\n  }), React.createElement(AreaChart, {\n    style: {\n      flex: 1,\n      height: 80\n    },\n    data: data.map(function (x) {\n      return x[1];\n    }),\n    contentInset: {\n      top: 10,\n      bottom: 10\n    },\n    curve: shape.curveNatural,\n    svg: {\n      fill: 'url(#gradient)'\n    },\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 11\n    }\n  }, React.createElement(Tooltip, {\n    touchX: touchX,\n    deviceWidth: width,\n    data: data,\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 13\n    }\n  }), React.createElement(ChartLine, {\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 13\n    }\n  }), React.createElement(Gradient, {\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 13\n    }\n  })))), React.createElement(View, {\n    style: {\n      flex: 1,\n      alignItems: 'center'\n    },\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 7\n    }\n  }, React.createElement(View, {\n    style: styles.buttonsContainer,\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 9\n    }\n  }, React.createElement(View, {\n    style: period[0] == 1 ? [styles.button, {\n      backgroundColor: 'rgb(41, 114, 255)'\n    }] : styles.button,\n    onStartShouldSetResponder: function onStartShouldSetResponder() {\n      return buttonCLicked(0);\n    },\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 11\n    }\n  }, React.createElement(Text, {\n    style: period[0] == 1 ? [styles.buttonText, {\n      color: '#ffffff'\n    }] : [styles.buttonText, {\n      color: props.colorScheme === \"dark\" ? '#fff' : '#000'\n    }],\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 13\n    }\n  }, \"1W\")), React.createElement(View, {\n    style: period[1] == 1 ? [styles.button, {\n      backgroundColor: 'rgb(41, 114, 255)'\n    }] : styles.button,\n    onStartShouldSetResponder: function onStartShouldSetResponder() {\n      return buttonCLicked(1);\n    },\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 11\n    }\n  }, React.createElement(Text, {\n    style: period[1] == 1 ? [styles.buttonText, {\n      color: '#ffffff'\n    }] : [styles.buttonText, {\n      color: props.colorScheme === \"dark\" ? '#fff' : '#000'\n    }],\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 13\n    }\n  }, \"1M\")), React.createElement(View, {\n    style: period[2] == 1 ? [styles.button, {\n      backgroundColor: 'rgb(41, 114, 255)'\n    }] : styles.button,\n    onStartShouldSetResponder: function onStartShouldSetResponder() {\n      return buttonCLicked(2);\n    },\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 11\n    }\n  }, React.createElement(Text, {\n    style: period[2] == 1 ? [styles.buttonText, {\n      color: '#ffffff'\n    }] : [styles.buttonText, {\n      color: props.colorScheme === \"dark\" ? '#fff' : '#000'\n    }],\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 13\n    }\n  }, \"3M\")), React.createElement(View, {\n    style: period[3] == 1 ? [styles.button, {\n      backgroundColor: 'rgb(41, 114, 255)'\n    }] : styles.button,\n    onStartShouldSetResponder: function onStartShouldSetResponder() {\n      return buttonCLicked(3);\n    },\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 11\n    }\n  }, React.createElement(Text, {\n    style: period[3] == 1 ? [styles.buttonText, {\n      color: '#ffffff'\n    }] : [styles.buttonText, {\n      color: props.colorScheme === \"dark\" ? '#fff' : '#000'\n    }],\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 13\n    }\n  }, \"1Y\")), React.createElement(View, {\n    style: period[4] == 1 ? [styles.button, {\n      backgroundColor: 'rgb(41, 114, 255)'\n    }] : styles.button,\n    onStartShouldSetResponder: function onStartShouldSetResponder() {\n      return buttonCLicked(4);\n    },\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 11\n    }\n  }, React.createElement(Text, {\n    style: period[4] == 1 ? [styles.buttonText, {\n      color: '#ffffff'\n    }] : [styles.buttonText, {\n      color: props.colorScheme === \"dark\" ? '#fff' : '#000'\n    }],\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 13\n    }\n  }, \"3Y\")))));\n};\n\nvar styles = StyleSheet.create({\n  container: {\n    flexGrow: 0,\n    justifyContent: 'flex-start',\n    alignItems: 'center',\n    marginTop: 50,\n    paddingBottom: 110\n  },\n  topBar: {\n    position: 'absolute',\n    zIndex: 200,\n    top: 0,\n    height: 64,\n    justifyContent: 'flex-end',\n    alignItems: 'center',\n    width: '100%',\n    paddingBottom: 12\n  },\n  chartContainer: {\n    width: '103%',\n    borderRadius: 20,\n    padding: 20,\n    marginBottom: 20\n  },\n  cryptoSymbol: {\n    fontFamily: 'Poppins_500Medium',\n    fontSize: 25\n  },\n  cryptoName: {\n    fontFamily: 'Poppins_500Medium',\n    fontSize: 20\n  },\n  text: {\n    fontFamily: 'Poppins_600SemiBold',\n    fontSize: 30\n  },\n  buttonsContainer: {\n    width: '80%',\n    flexDirection: 'row',\n    justifyContent: 'space-between'\n  },\n  button: {\n    paddingTop: 5,\n    paddingBottom: 5,\n    paddingLeft: 10,\n    paddingRight: 10,\n    borderRadius: 30\n  },\n  buttonText: {\n    fontFamily: 'Poppins_600SemiBold',\n    fontSize: 12\n  }\n});","map":{"version":3,"sources":["/Users/francescomontanaro/Desktop/UniversitaÌ€/Corsi/Design and Implementation of Mobile Applications/CryptoSimulator_Client/components/Charts.js"],"names":["Defs","LinearGradient","Stop","Path","AreaChart","React","useState","PriceViewer","shape","Tooltip","Charts","props","scrollable","setScrollable","setScroll","scroll","renderItem","item","name","symbol","cryptoData","length","values","map","x","colorScheme","flex","backgroundColor","styles","topBar","text","fontSize","color","container","Chart","allData","data","filter","sample","Date","getTime","setData","period","setPeriod","touchX","setTouchX","width","Math","ceil","Dimensions","get","ChartLine","line","Gradient","index","panResponder","useRef","PanResponder","create","onStartShouldSetPanResponder","onPanResponderGrant","evt","nativeEvent","locationX","onPanResponderMove","onPanResponderRelease","onPanResponderTerminate","current","buttonCLicked","newPeriod","currentDate","newData","end","chartContainer","textAlign","cryptoSymbol","cryptoName","height","marginBottom","flexDirection","marginTop","panHandlers","top","bottom","curveNatural","fill","alignItems","buttonsContainer","button","buttonText","StyleSheet","flexGrow","justifyContent","paddingBottom","position","zIndex","borderRadius","padding","fontFamily","paddingTop","paddingLeft","paddingRight"],"mappings":"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","sourcesContent":["import { StyleSheet, Text, FlatList, View, PanResponder, Dimensions, SafeAreaView} from 'react-native';\nimport { Defs, LinearGradient, Stop, Path} from 'react-native-svg';\nimport { AreaChart} from 'react-native-svg-charts';\nimport React, {useState} from 'react';\nimport PriceViewer from './PriceViewer';\nimport 'react-native-gesture-handler';\nimport * as shape from 'd3-shape';\nimport Tooltip from './Tooltip';\nimport \"firebase/functions\";\n\n\nexport default function Charts(props) {\n  const [scrollable, setScrollable] = useState(true);\n\n  const setScroll = (scroll) => {\n    setScrollable(scroll);\n  }\n\n  const renderItem = ({ item }) => {\n    return (\n      <Chart name={item.name} symbol={item.symbol} dataLength={props.cryptoData.length} scroll={setScroll} data={(item.values).map(x => [x[0], x[4]])}  colorScheme={props.colorScheme}/>\n    );\n  };\n\n  return (\n    <SafeAreaView style={{flex: 1, backgroundColor: props.colorScheme === 'dark' ? '#161730' : '#e9f0ff'}}>\n      <View style={[styles.topBar, {backgroundColor: props.colorScheme === 'dark' ? '#161730' : '#e9f0ff'}]}>\n        <Text style={[styles.text, {fontSize: 18, color: props.colorScheme === 'dark' ? '#fff' : '#000'}]}>CryptoSimulator</Text>\n      </View>\n      <FlatList data={props.cryptoData} renderItem={renderItem} contentContainerStyle={styles.container} showsVerticalScrollIndicator={false} scrollEnabled={scrollable}/>\n    </SafeAreaView>\n  );\n};\n\n\nconst Chart = (props) => {\n  const allData = props.data;\n  const [data, setData] = useState(allData.filter(sample => sample[0] >= ((new Date).getTime() - 30*24*60*60*1000)));\n  const [period, setPeriod] = useState([0,1,0,0,0]);\n  const [touchX, setTouchX] = useState(-1);\n  const width = Math.ceil(0.92 * Dimensions.get('window').width - 40);\n  \n  const ChartLine = ({ line }) => (\n    <Path\n        key={'line'}\n        d={line}\n        stroke={'rgb(41, 114, 255)'}\n        fill={'none'}\n        strokeWidth={2}\n    />\n  )\n\n  const Gradient = ({ index }) => (\n    <Defs key={index}>\n        <LinearGradient id={'gradient'} x1={'0%'} y1={'0%'} x2={'0%'} y2={'100%'}>\n            <Stop offset={'0%'} stopColor={'rgb(41, 114, 255)'} stopOpacity={0.2}/>\n            <Stop offset={'50%'} stopColor={'rgb(41, 114, 255)'} stopOpacity={0}/>\n        </LinearGradient>\n    </Defs>\n  )\n\n\n  const panResponder = React.useRef(\n    PanResponder.create({\n      onStartShouldSetPanResponder: () => true,\n      onPanResponderGrant: (evt) => {\n        props.scroll(false);\n        if(evt.nativeEvent.locationX >= 0 && evt.nativeEvent.locationX <= width){\n          setTouchX(evt.nativeEvent.locationX);\n        }\n      },\n      onPanResponderMove: (evt) => {\n        if(evt.nativeEvent.locationX >= 0 && evt.nativeEvent.locationX <= width){\n          setTouchX(evt.nativeEvent.locationX);\n        }\n      },\n      onPanResponderRelease: () => {\n        props.scroll(true);\n        setTouchX(-1);\n      },\n      onPanResponderTerminate: () => {\n        props.scroll(true);\n        setTouchX(-1);\n      }\n    })\n  ).current;\n\n  function buttonCLicked(index){\n    var newPeriod = [0,0,0,0,0];\n    newPeriod[index] = 1;\n    setPeriod(newPeriod);\n    var currentDate = (new Date()).getTime();\n    var newData;\n\n    if(index == 0){\n      var end = (currentDate - 7*24*60*60*1000);\n      newData = allData.filter(sample => sample[0] >= end);\n    }\n    else if(index == 1){\n      var end = (currentDate - 30*24*60*60*1000);\n      newData = allData.filter(sample => sample[0] >= end);\n    }\n    else if(index == 2){\n      var end = (currentDate - 90*24*60*60*1000);\n      newData = allData.filter(sample => sample[0] >= end);\n    }\n    else if(index == 3){\n      var end = (currentDate - 365*24*60*60*1000);\n      newData = allData.filter(sample => sample[0] >= end);\n    }\n    else if(index == 4){\n      newData = allData;\n    }\n    setData(newData);\n  }\n\n\n  return (\n    <View style={[styles.chartContainer, {backgroundColor: props.colorScheme === 'dark' ? '#212244' : '#fff'}]}>\n      <View style={{flex: 1, textAlign: 'left'}}>\n        <Text style={[styles.cryptoSymbol, {color: props.colorScheme === 'dark' ? '#fff' : '#000'}]}>{props.symbol}</Text>\n        <Text style={[styles.cryptoName, {color: props.colorScheme === 'dark' ? '#fff' : '#000'}]}>{props.name}</Text>\n      </View>\n\n      <View style={{flex: 1, height: 20, textAlign: 'center', marginBottom: 20}}>\n        <PriceViewer touchX={touchX} colorScheme={props.colorScheme} deviceWidth={width} data={data}></PriceViewer>\n      </View>\n\n      <View style={{ height: 80, flexDirection: 'row', marginBottom: 15, marginTop: 15 }}>\n        <View style={{flex: 1}} {...panResponder.panHandlers}>\n          <AreaChart\n            style={{ flex:1, height: 80}}\n            data={data.map(x => x[1])}\n            contentInset={{ top: 10, bottom: 10 }}\n            curve={shape.curveNatural}\n            svg={{ fill: 'url(#gradient)' }}\n            >\n            <Tooltip touchX={touchX} deviceWidth={width} data={data}/>\n            <ChartLine/>\n            <Gradient/>\n          </AreaChart>\n        </View>\n      </View>\n\n      <View style={{flex: 1, alignItems: 'center'}}>\n        <View style={styles.buttonsContainer}>\n          <View style={period[0] == 1 ? [styles.button, {backgroundColor: 'rgb(41, 114, 255)'}]:styles.button} onStartShouldSetResponder={() => buttonCLicked(0)}>\n            <Text style={period[0] == 1 ? [styles.buttonText, {color: '#ffffff'}]:[styles.buttonText, {color: props.colorScheme === \"dark\" ? '#fff':'#000'}]}>\n              1W\n            </Text>\n          </View>\n          <View style={period[1] == 1 ? [styles.button, {backgroundColor: 'rgb(41, 114, 255)'}]:styles.button} onStartShouldSetResponder={() => buttonCLicked(1)}>\n            <Text style={period[1] == 1 ? [styles.buttonText, {color: '#ffffff'}]:[styles.buttonText, {color: props.colorScheme === \"dark\" ? '#fff':'#000'}]}>\n              1M\n            </Text>\n          </View>\n          <View style={period[2] == 1 ? [styles.button, {backgroundColor: 'rgb(41, 114, 255)'}]:styles.button} onStartShouldSetResponder={() => buttonCLicked(2)}>\n            <Text style={period[2] == 1 ? [styles.buttonText, {color: '#ffffff'}]:[styles.buttonText, {color: props.colorScheme === \"dark\" ? '#fff':'#000'}]}>\n              3M\n            </Text>\n          </View>\n          <View style={period[3] == 1 ? [styles.button, {backgroundColor: 'rgb(41, 114, 255)'}]:styles.button} onStartShouldSetResponder={() => buttonCLicked(3)}>\n            <Text style={period[3] == 1 ? [styles.buttonText, {color: '#ffffff'}]:[styles.buttonText, {color: props.colorScheme === \"dark\" ? '#fff':'#000'}]}>\n              1Y\n            </Text>\n          </View>\n          <View style={period[4] == 1 ? [styles.button, {backgroundColor: 'rgb(41, 114, 255)'}]:styles.button} onStartShouldSetResponder={() => buttonCLicked(4)}>\n            <Text style={period[4] == 1 ? [styles.buttonText, {color: '#ffffff'}]:[styles.buttonText, {color: props.colorScheme === \"dark\" ? '#fff':'#000'}]}>\n              3Y\n            </Text>\n          </View>\n        </View>\n      </View>\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flexGrow: 0,\n    justifyContent: 'flex-start',\n    alignItems: 'center',\n    marginTop: 50,\n    paddingBottom: 110,\n  },\n  topBar: {\n    position: 'absolute',\n    zIndex: 200,\n    top: 0,\n    height: 64,\n    justifyContent: 'flex-end',\n    alignItems: 'center',\n    width: '100%',\n    paddingBottom: 12\n  },\n  chartContainer: {\n    width: '103%',\n    borderRadius: 20,\n    padding: 20,\n    marginBottom: 20,\n  },\n  cryptoSymbol: {\n    fontFamily: 'Poppins_500Medium',\n    fontSize: 25\n  },\n  cryptoName: {\n    fontFamily: 'Poppins_500Medium',\n    fontSize: 20,\n  },\n  text: {\n    fontFamily: 'Poppins_600SemiBold',\n    fontSize: 30\n  },\n  buttonsContainer: {\n    width: '80%', \n    flexDirection: 'row', \n    justifyContent: 'space-between'\n  },\n  button: {\n    paddingTop: 5,\n    paddingBottom: 5,\n    paddingLeft: 10,\n    paddingRight: 10,\n    borderRadius: 30\n  },\n  buttonText: {\n    fontFamily: 'Poppins_600SemiBold',\n    fontSize: 12\n  },\n});"]},"metadata":{},"sourceType":"module"}