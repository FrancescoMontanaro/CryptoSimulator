{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/Users/francescomontanaro/Desktop/Universita\\u0300/Corsi/Design and Implementation of Mobile Applications/CryptoSimulator_Client/components/Predictions.js\";\nimport { StatusBar } from 'expo-status-bar';\nimport 'react-native-gesture-handler';\nimport Button from \"react-native-web/dist/exports/Button\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport React, { useState, useEffect } from 'react';\nimport { useFonts, Poppins_300Light, Poppins_400Regular, Poppins_500Medium, Poppins_600SemiBold } from '@expo-google-fonts/poppins';\nimport { AppLoading } from 'expo';\nimport * as firebase from 'firebase';\nimport \"firebase/functions\";\nimport { AreaChart, Grid, XAxis, YAxis } from 'react-native-svg-charts';\nimport * as shape from 'd3-shape';\nimport { Defs, LinearGradient, Stop, Path, G } from 'react-native-svg';\nexport default function Predictions() {\n  var _this = this;\n\n  var _useState = useState(true),\n      _useState2 = _slicedToArray(_useState, 2),\n      loading = _useState2[0],\n      setLoading = _useState2[1];\n\n  var _useState3 = useState({}),\n      _useState4 = _slicedToArray(_useState3, 2),\n      cryptoData = _useState4[0],\n      setCryptoData = _useState4[1];\n\n  var _useFonts = useFonts({\n    Poppins_300Light: Poppins_300Light,\n    Poppins_400Regular: Poppins_400Regular,\n    Poppins_500Medium: Poppins_500Medium,\n    Poppins_600SemiBold: Poppins_600SemiBold\n  }),\n      _useFonts2 = _slicedToArray(_useFonts, 1),\n      fontsLoaded = _useFonts2[0];\n\n  var axesSvg = {\n    fontSize: 10,\n    fill: 'grey',\n    fontFamily: 'Poppins_400Regular'\n  };\n\n  var Line = function Line(_ref) {\n    var line = _ref.line;\n    return React.createElement(Path, {\n      key: 'line',\n      d: line,\n      stroke: 'rgb(41, 114, 255)',\n      fill: 'none',\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 5\n      }\n    });\n  };\n\n  var Gradient = function Gradient(_ref2) {\n    var index = _ref2.index;\n    return React.createElement(Defs, {\n      key: index,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 5\n      }\n    }, React.createElement(LinearGradient, {\n      id: 'gradient',\n      x1: '0%',\n      y1: '0%',\n      x2: '0%',\n      y2: '100%',\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 9\n      }\n    }, React.createElement(Stop, {\n      offset: '0%',\n      stopColor: 'rgb(41, 114, 255)',\n      stopOpacity: 0.2,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 13\n      }\n    }), React.createElement(Stop, {\n      offset: '28%',\n      stopColor: 'rgb(41, 114, 255)',\n      stopOpacity: 0,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 13\n      }\n    })));\n  };\n\n  var data = [50, 10, 40, 95, -4, -24, 85, 91, 35, 53, -53, 24, 50, -20, -80];\n\n  var CustomGrid = function CustomGrid(_ref3) {\n    var x = _ref3.x,\n        y = _ref3.y,\n        data = _ref3.data,\n        ticks = _ref3.ticks;\n    return React.createElement(G, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 5\n      }\n    }, ticks.map(function (tick) {\n      return React.createElement(Line, {\n        key: tick,\n        x1: '0%',\n        x2: '100%',\n        y1: y(tick),\n        y2: y(tick),\n        stroke: 'rgba(0,0,0,0.2)',\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 17\n        }\n      });\n    }), data.map(function (_, index) {\n      return React.createElement(Line, {\n        key: index,\n        y1: '0%',\n        y2: '100%',\n        x1: x(index),\n        x2: x(index),\n        stroke: 'rgba(0,0,0,0.2)',\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 17\n        }\n      });\n    }));\n  };\n\n  useEffect(function () {\n    if (loading && !fontsLoaded) {\n      firebase.functions().httpsCallable('getCryptoData')({\n        asset: 'bitcoin',\n        start: '2020-01-01',\n        end: '2020-02-01',\n        interval: '1d'\n      }).then(function (response) {\n        if (response.data.statusCode == 200) {\n          setCryptoData(response.data.body);\n          setLoading(false);\n        } else {\n          console.error(response.data.body);\n        }\n      }).catch(function (error) {\n        console.error(error);\n      });\n    }\n  }, []);\n\n  if (!fontsLoaded) {\n    return React.createElement(AppLoading, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 12\n      }\n    });\n  } else {\n    if (!loading) {\n      var _data = [];\n      cryptoData.values.forEach(function (sample) {\n        _data.push(sample[4]);\n      });\n      return React.createElement(View, {\n        style: styles.container,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 9\n        }\n      }, React.createElement(View, {\n        style: styles.chartContainer,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 11\n        }\n      }, React.createElement(Text, {\n        style: styles.cryptoSymbol,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 13\n        }\n      }, cryptoData.symbol), React.createElement(Text, {\n        style: styles.cryptoName,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 13\n        }\n      }, cryptoData.name), React.createElement(View, {\n        style: {\n          height: 200,\n          flexDirection: 'row',\n          marginBottom: 15,\n          marginTop: 15\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 13\n        }\n      }, React.createElement(YAxis, {\n        data: _data,\n        contentInset: {\n          top: 10,\n          bottom: 10\n        },\n        svg: axesSvg,\n        numberOfTicks: 6,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 17\n        }\n      }), React.createElement(View, {\n        style: {\n          flex: 1,\n          marginLeft: 10\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 17\n        }\n      }, React.createElement(AreaChart, {\n        style: {\n          height: 200\n        },\n        data: _data,\n        contentInset: {\n          top: 10,\n          bottom: 10\n        },\n        curve: shape.curveNatural,\n        svg: {\n          fill: 'url(#gradient)'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 19\n        }\n      }, React.createElement(CustomGrid, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 21\n        }\n      }), React.createElement(Line, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 21\n        }\n      }), React.createElement(Gradient, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 21\n        }\n      })), React.createElement(XAxis, {\n        style: {\n          marginHorizontal: -10,\n          marginTop: 5\n        },\n        data: _data,\n        formatLabel: function formatLabel(value, index) {\n          return index + 1;\n        },\n        contentInset: {\n          left: 10,\n          right: 10\n        },\n        svg: axesSvg,\n        numberOfTicks: 15,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 21\n        }\n      }))), React.createElement(View, {\n        style: styles.buttonsContainer,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 13\n        }\n      }, React.createElement(View, {\n        style: styles.button,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 15\n        }\n      }, React.createElement(Text, {\n        style: styles.buttonText,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 17\n        }\n      }, \"Week\")), React.createElement(View, {\n        style: styles.button,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 15\n        }\n      }, React.createElement(Text, {\n        style: styles.buttonText,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 17\n        }\n      }, \"Month\")), React.createElement(View, {\n        style: styles.button,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 15\n        }\n      }, React.createElement(Text, {\n        style: styles.buttonText,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 17\n        }\n      }, \"Year\")))));\n    } else {\n      return React.createElement(View, {\n        style: styles.container,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 9\n        }\n      }, React.createElement(Text, {\n        style: styles.text,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 11\n        }\n      }, \"LOADING...\"));\n    }\n  }\n}\n;\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#e9f0ff',\n    alignItems: 'center',\n    justifyContent: 'flex-start',\n    paddingTop: 30\n  },\n  chartContainer: {\n    backgroundColor: '#ffffff',\n    width: '90%',\n    borderRadius: 20,\n    padding: 20,\n    textAlign: 'left'\n  },\n  cryptoSymbol: {\n    fontFamily: 'Poppins_500Medium',\n    fontSize: 25,\n    color: '#000000'\n  },\n  cryptoName: {\n    fontFamily: 'Poppins_500Medium',\n    fontSize: 20,\n    color: '#000000'\n  },\n  text: {\n    fontFamily: 'Poppins_600SemiBold',\n    fontSize: 30,\n    color: '#000000'\n  },\n  buttonsContainer: {\n    flex: 1,\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    marginTop: 20\n  },\n  button: {\n    backgroundColor: '#2970ff',\n    borderRadius: 20,\n    padding: 10,\n    paddingLeft: 20,\n    paddingRight: 20\n  },\n  buttonText: {\n    fontFamily: 'Poppins_400Regular',\n    fontSize: 15,\n    color: '#ffffff'\n  }\n});","map":{"version":3,"sources":["/Users/francescomontanaro/Desktop/UniversitaÌ€/Corsi/Design and Implementation of Mobile Applications/CryptoSimulator_Client/components/Predictions.js"],"names":["StatusBar","React","useState","useEffect","useFonts","Poppins_300Light","Poppins_400Regular","Poppins_500Medium","Poppins_600SemiBold","AppLoading","firebase","AreaChart","Grid","XAxis","YAxis","shape","Defs","LinearGradient","Stop","Path","G","Predictions","loading","setLoading","cryptoData","setCryptoData","fontsLoaded","axesSvg","fontSize","fill","fontFamily","Line","line","Gradient","index","data","CustomGrid","x","y","ticks","map","tick","_","functions","httpsCallable","asset","start","end","interval","then","response","statusCode","body","console","error","catch","values","forEach","sample","push","styles","container","chartContainer","cryptoSymbol","symbol","cryptoName","name","height","flexDirection","marginBottom","marginTop","top","bottom","flex","marginLeft","curveNatural","marginHorizontal","value","left","right","buttonsContainer","button","buttonText","text","StyleSheet","create","backgroundColor","alignItems","justifyContent","paddingTop","width","borderRadius","padding","textAlign","color","paddingLeft","paddingRight"],"mappings":"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","sourcesContent":["import { StatusBar } from 'expo-status-bar';\nimport 'react-native-gesture-handler';\nimport { Button, StyleSheet, Text, View } from 'react-native';\nimport React, {useState,useEffect} from 'react';\nimport { useFonts, Poppins_300Light, Poppins_400Regular, Poppins_500Medium, Poppins_600SemiBold} from '@expo-google-fonts/poppins';\nimport { AppLoading } from 'expo';\nimport * as firebase from 'firebase'\nimport \"firebase/functions\";\nimport { AreaChart, Grid, XAxis, YAxis} from 'react-native-svg-charts'\nimport * as shape from 'd3-shape'\nimport { Defs, LinearGradient, Stop, Path, G } from 'react-native-svg'\n\nexport default function Predictions() {\n  const [loading, setLoading] = useState(true);\n  const [cryptoData, setCryptoData] = useState({});\n  let [fontsLoaded] = useFonts({\n    Poppins_300Light,\n    Poppins_400Regular,\n    Poppins_500Medium,\n    Poppins_600SemiBold\n  });\n\n  const axesSvg = { fontSize: 10, fill: 'grey', fontFamily:  'Poppins_400Regular'};\n\n  const Line = ({ line }) => (\n    <Path\n        key={'line'}\n        d={line}\n        stroke={'rgb(41, 114, 255)'}\n        fill={'none'}\n    />\n  )\n\n  const Gradient = ({ index }) => (\n    <Defs key={index}>\n        <LinearGradient id={'gradient'} x1={'0%'} y1={'0%'} x2={'0%'} y2={'100%'}>\n            <Stop offset={'0%'} stopColor={'rgb(41, 114, 255)'} stopOpacity={0.2}/>\n            <Stop offset={'28%'} stopColor={'rgb(41, 114, 255)'} stopOpacity={0}/>\n        </LinearGradient>\n    </Defs>\n  )\n\n  const data = [ 50, 10, 40, 95, -4, -24, 85, 91, 35, 53, -53, 24, 50, -20, -80 ]\n\n  const CustomGrid = ({ x, y, data, ticks }) => (\n    <G>\n        {\n            ticks.map(tick => (\n                <Line\n                    key={ tick }\n                    x1={ '0%' }\n                    x2={ '100%' }\n                    y1={ y(tick) }\n                    y2={ y(tick) }\n                    stroke={ 'rgba(0,0,0,0.2)' }\n                />\n            ))\n        }\n        {\n            data.map((_, index) => (\n                <Line\n                    key={ index }\n                    y1={ '0%' }\n                    y2={ '100%' }\n                    x1={ x(index) }\n                    x2={ x(index) }\n                    stroke={ 'rgba(0,0,0,0.2)' }\n                />\n            ))\n        }\n    </G>\n)\n\n  useEffect(()=>{\n    if(loading && !fontsLoaded){\n    firebase.functions().httpsCallable('getCryptoData')({asset: 'bitcoin', start: '2020-01-01', end: '2020-02-01', interval: '1d'}).then(response =>{\n      if(response.data.statusCode == 200){\n        setCryptoData(response.data.body);\n        setLoading(false);\n      }\n      else{\n        console.error(response.data.body);\n      }\n    }).catch(error =>{\n      console.error(error);\n    })\n  }},[])\n\n  if (!fontsLoaded) {\n    return <AppLoading/>;\n  }\n  else{\n    if(!loading){\n      let data = [];\n      (cryptoData.values).forEach(sample =>{\n        data.push(sample[4]);\n      })\n      return (\n        <View style={styles.container}>\n          <View style={styles.chartContainer}>\n            <Text style={styles.cryptoSymbol}>{cryptoData.symbol}</Text>\n            <Text style={styles.cryptoName}>{cryptoData.name}</Text>\n\n            <View style={{ height: 200, flexDirection: 'row', marginBottom: 15, marginTop: 15 }}>\n                <YAxis\n                    data={data}\n                    contentInset={{ top: 10, bottom: 10 }}\n                    svg={axesSvg}\n                    numberOfTicks={ 6 }\n                />\n                <View style={{ flex: 1, marginLeft: 10 }}>\n                  <AreaChart\n                    style={{ height: 200 }}\n                    data={data}\n                    contentInset={{ top: 10, bottom: 10 }}\n                    curve={shape.curveNatural}\n                    svg={{ fill: 'url(#gradient)' }}\n                    >\n                    <CustomGrid/>\n                    <Line/>\n                    <Gradient/>\n                  </AreaChart>\n                    <XAxis\n                        style={{ marginHorizontal: -10, marginTop: 5}}\n                        data={data}\n                        formatLabel={(value, index) => index + 1 }\n                        contentInset={{ left: 10, right: 10 }}\n                        svg={axesSvg}\n                        numberOfTicks={ 15 }\n                    />\n                </View>\n            </View>\n\n            <View style={styles.buttonsContainer}>\n              <View style={styles.button}>\n                <Text style={styles.buttonText}>\n                  Week\n                </Text>\n              </View>\n              <View style={styles.button}>\n                <Text style={styles.buttonText}>\n                  Month\n                </Text>\n              </View>\n              <View style={styles.button}>\n                <Text style={styles.buttonText}>\n                  Year\n                </Text>\n              </View>\n            </View>\n          </View>\n        </View>\n      );\n    }\n    else{\n      return(\n        <View style={styles.container}>\n          <Text style={styles.text}>\n              LOADING...\n          </Text>\n        </View>\n      );\n    }\n  }\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex:1,\n    backgroundColor: '#e9f0ff',\n    alignItems: 'center',\n    justifyContent: 'flex-start',\n    paddingTop: 30\n  },\n  chartContainer: {\n    backgroundColor: '#ffffff',\n    width: '90%',\n    borderRadius: 20,\n    padding: 20,\n    textAlign: 'left'\n  },\n  cryptoSymbol: {\n    fontFamily: 'Poppins_500Medium',\n    fontSize: 25,\n    color: '#000000'\n  },\n  cryptoName: {\n    fontFamily: 'Poppins_500Medium',\n    fontSize: 20,\n    color: '#000000'\n  },\n  text: {\n    fontFamily: 'Poppins_600SemiBold',\n    fontSize: 30,\n    color: '#000000'\n  },\n  buttonsContainer: {\n    flex: 1,\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    marginTop: 20\n  },\n  button: {\n    backgroundColor: '#2970ff',\n    borderRadius: 20,\n    padding: 10,\n    paddingLeft: 20,\n    paddingRight: 20\n  },\n  buttonText: {\n    fontFamily: 'Poppins_400Regular',\n    fontSize: 15,\n    color: '#ffffff'\n  }\n});"]},"metadata":{},"sourceType":"module"}