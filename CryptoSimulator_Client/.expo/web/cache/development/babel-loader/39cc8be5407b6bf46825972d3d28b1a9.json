{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _jsxFileName = \"/Users/francescomontanaro/Desktop/Universita\\u0300/Corsi/Design and Implementation of Mobile Applications/CryptoSimulator_Client/components/Predictions.js\",\n    _this2 = this;\n\nimport 'react-native-gesture-handler';\nimport Animated from \"react-native-web/dist/exports/Animated\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport View from \"react-native-web/dist/exports/View\";\nimport PanResponder from \"react-native-web/dist/exports/PanResponder\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport React, { useState, useEffect, useRef, Component } from 'react';\nimport { useFonts, Poppins_300Light, Poppins_400Regular, Poppins_500Medium, Poppins_600SemiBold } from '@expo-google-fonts/poppins';\nimport { AppLoading } from 'expo';\nimport * as firebase from 'firebase';\nimport \"firebase/functions\";\nimport { AreaChart } from 'react-native-svg-charts';\nimport * as shape from 'd3-shape';\nimport { Defs, LinearGradient, Stop, Path } from 'react-native-svg';\nimport Tooltip from \"./Tooltip\";\nimport PriceViewer from \"./PriceViewer\";\nimport { CirclesLoader } from 'react-native-indicator';\nexport default function Predictions() {\n  var _this = this;\n\n  var _useState = useState(true),\n      _useState2 = _slicedToArray(_useState, 2),\n      loading = _useState2[0],\n      setLoading = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      cryptoData = _useState4[0],\n      setCryptoData = _useState4[1];\n\n  var _useState5 = useState(true),\n      _useState6 = _slicedToArray(_useState5, 2),\n      scrollable = _useState6[0],\n      setScrollable = _useState6[1];\n\n  var flatListRef = React.useRef();\n\n  var _useFonts = useFonts({\n    Poppins_300Light: Poppins_300Light,\n    Poppins_400Regular: Poppins_400Regular,\n    Poppins_500Medium: Poppins_500Medium,\n    Poppins_600SemiBold: Poppins_600SemiBold\n  }),\n      _useFonts2 = _slicedToArray(_useFonts, 1),\n      fontsLoaded = _useFonts2[0];\n\n  var setScroll = function setScroll(scroll) {\n    setScrollable(scroll);\n  };\n\n  var renderItem = function renderItem(_ref) {\n    var item = _ref.item,\n        index = _ref.index;\n    return React.createElement(Chart, {\n      name: item.name,\n      symbol: item.symbol,\n      index: index,\n      dataLength: cryptoData.length,\n      scroll: setScroll,\n      data: item.values.map(function (x) {\n        return [x[0], x[4]];\n      }),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 7\n      }\n    });\n  };\n\n  var endDate = new Date();\n  endDate = endDate.getFullYear() + \"-\" + (endDate.getMonth() + 1) + \"-\" + endDate.getDate();\n  var startDate = new Date(new Date().getTime() - 3 * 365 * 24 * 60 * 60 * 1000);\n  startDate = startDate.getFullYear() + \"-\" + (startDate.getMonth() + 1) + \"-\" + startDate.getDate();\n  useEffect(function () {\n    if (loading && !fontsLoaded) {\n      firebase.functions().httpsCallable('getCryptoData')({\n        assets: ['BTC', 'ETH', 'LTC', 'ADA', 'XLM'],\n        start: startDate,\n        end: endDate,\n        interval: '1d'\n      }).then(function (response) {\n        if (response.data.statusCode == 200) {\n          setCryptoData(response.data.body);\n          setLoading(false);\n        } else {\n          console.error(response.data.body);\n        }\n      }).catch(function (error) {\n        console.error(error);\n      });\n    }\n  }, []);\n\n  if (!fontsLoaded) {\n    return React.createElement(AppLoading, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 12\n      }\n    });\n  } else {\n    if (!loading) {\n      return React.createElement(SafeAreaView, {\n        style: {\n          flex: 1,\n          backgroundColor: '#e9f0ff'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 7\n        }\n      }, React.createElement(View, {\n        style: styles.topBar,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 9\n        }\n      }, React.createElement(Text, {\n        style: [styles.text, {\n          fontSize: 18\n        }],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }\n      }, \"CryptoSimulator\")), React.createElement(FlatList, {\n        data: cryptoData,\n        renderItem: renderItem,\n        ref: flatListRef,\n        contentContainerStyle: styles.container,\n        showsVerticalScrollIndicator: false,\n        scrollEnabled: scrollable,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 9\n        }\n      }));\n    } else {\n      return React.createElement(View, {\n        style: {\n          flex: 1,\n          alignItems: 'center',\n          justifyContent: 'center',\n          backgroundColor: '#e9f0ff'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 9\n        }\n      }, React.createElement(View, {\n        style: styles.topBar,\n        blurRadius: 1,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }\n      }, React.createElement(Text, {\n        style: [styles.text, {\n          fontSize: 18\n        }],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 13\n        }\n      }, \"CryptoSimulator\")), React.createElement(View, {\n        style: {\n          flex: 1,\n          alignItems: 'center',\n          justifyContent: 'center'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }\n      }, React.createElement(ActivityIndicator, {\n        size: \"large\",\n        color: \"rgb(41,114,255)\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 13\n        }\n      })));\n    }\n  }\n}\n;\n\nvar Chart = function Chart(props) {\n  var allData = props.data;\n\n  var _useState7 = useState(allData.filter(function (sample) {\n    return sample[0] >= new Date().getTime() - 30 * 24 * 60 * 60 * 1000;\n  })),\n      _useState8 = _slicedToArray(_useState7, 2),\n      data = _useState8[0],\n      setData = _useState8[1];\n\n  var _useState9 = useState([0, 1, 0, 0, 0]),\n      _useState10 = _slicedToArray(_useState9, 2),\n      period = _useState10[0],\n      setPeriod = _useState10[1];\n\n  var _useState11 = useState(-1),\n      _useState12 = _slicedToArray(_useState11, 2),\n      touchX = _useState12[0],\n      setTouchX = _useState12[1];\n\n  var width = Math.ceil(0.92 * Dimensions.get('window').width - 40);\n  var pan = useRef(new Animated.ValueXY()).current;\n\n  var _useState13 = useState({\n    elevation: 1,\n    shadowRadius: 5,\n    zIndex: 1\n  }),\n      _useState14 = _slicedToArray(_useState13, 2),\n      dragging = _useState14[0],\n      setDragging = _useState14[1];\n\n  var ChartLine = function ChartLine(_ref2) {\n    var line = _ref2.line;\n    return React.createElement(Path, {\n      key: 'line',\n      d: line,\n      stroke: 'rgb(41, 114, 255)',\n      fill: 'none',\n      strokeWidth: 2,\n      __self: _this2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 5\n      }\n    });\n  };\n\n  var Gradient = function Gradient(_ref3) {\n    var index = _ref3.index;\n    return React.createElement(Defs, {\n      key: index,\n      __self: _this2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 5\n      }\n    }, React.createElement(LinearGradient, {\n      id: 'gradient',\n      x1: '0%',\n      y1: '0%',\n      x2: '0%',\n      y2: '100%',\n      __self: _this2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }\n    }, React.createElement(Stop, {\n      offset: '0%',\n      stopColor: 'rgb(41, 114, 255)',\n      stopOpacity: 0.2,\n      __self: _this2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 13\n      }\n    }), React.createElement(Stop, {\n      offset: '50%',\n      stopColor: 'rgb(41, 114, 255)',\n      stopOpacity: 0,\n      __self: _this2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 13\n      }\n    })));\n  };\n\n  var panResponder = React.useRef(PanResponder.create({\n    onStartShouldSetPanResponder: function onStartShouldSetPanResponder() {\n      return true;\n    },\n    onPanResponderGrant: function onPanResponderGrant(evt) {\n      props.scroll(false);\n\n      if (evt.nativeEvent.locationX >= 0 && evt.nativeEvent.locationX <= width) {\n        setTouchX(evt.nativeEvent.locationX);\n      }\n    },\n    onPanResponderMove: function onPanResponderMove(evt) {\n      if (evt.nativeEvent.locationX >= 0 && evt.nativeEvent.locationX <= width) {\n        setTouchX(evt.nativeEvent.locationX);\n      }\n    },\n    onPanResponderRelease: function onPanResponderRelease() {\n      props.scroll(true);\n      setTouchX(-1);\n    },\n    onPanResponderTerminate: function onPanResponderTerminate() {\n      props.scroll(true);\n      setTouchX(-1);\n    }\n  })).current;\n\n  function stopDragging() {\n    var offset;\n\n    if (pan.y._value / 301 < 0) {\n      offset = Math.floor(Math.abs(pan.y._value / 301)) * -1;\n    } else {\n      offset = Math.floor(pan.y._value / 301);\n    }\n\n    var newIndex;\n\n    if (props.index == 0 && offset < 0) {\n      newIndex = props.index;\n    } else if (props.index == props.dataLength - 1 && offset > 0) {\n      newIndex = props.index;\n    } else {\n      newIndex = props.index + offset;\n\n      if (newIndex < 0) {\n        newIndex = 0;\n      } else if (newIndex > props.dataLength - 1) {\n        newIndex = props.dataLength - 1;\n      }\n    }\n\n    Animated.spring(pan, {\n      toValue: {\n        x: 0,\n        y: 0\n      },\n      useNativeDriver: false\n    }).start();\n    props.scroll(true);\n    setDragging({\n      elevation: 100,\n      shadowRadius: 5,\n      zIndex: 100\n    });\n    setTimeout(function () {\n      setDragging({\n        elevation: 1,\n        shadowRadius: 5,\n        zIndex: 1\n      });\n    }, 300);\n  }\n\n  var Drag = React.useRef(PanResponder.create({\n    onStartShouldSetPanResponder: function onStartShouldSetPanResponder() {\n      return true;\n    },\n    onPanResponderGrant: function onPanResponderGrant() {\n      props.scroll(false);\n      setDragging({\n        elevation: 100,\n        shadowRadius: 20,\n        zIndex: 100\n      });\n      pan.setOffset({\n        x: 0,\n        y: 0\n      });\n    },\n    onPanResponderMove: function onPanResponderMove(evt, gestureState) {\n      return Animated.event([null, {\n        dx: pan.x,\n        dy: pan.y\n      }], {\n        useNativeDriver: false\n      })(evt, gestureState);\n    },\n    onPanResponderRelease: function onPanResponderRelease() {\n      stopDragging();\n    },\n    onPanResponderTerminate: function onPanResponderTerminate() {\n      stopDragging();\n    }\n  })).current;\n\n  function buttonCLicked(index) {\n    var newPeriod = [0, 0, 0, 0, 0];\n    newPeriod[index] = 1;\n    setPeriod(newPeriod);\n    var currentDate = new Date().getTime();\n    var newData;\n\n    if (index == 0) {\n      var end = currentDate - 7 * 24 * 60 * 60 * 1000;\n      newData = allData.filter(function (sample) {\n        return sample[0] >= end;\n      });\n    } else if (index == 1) {\n      var end = currentDate - 30 * 24 * 60 * 60 * 1000;\n      newData = allData.filter(function (sample) {\n        return sample[0] >= end;\n      });\n    } else if (index == 2) {\n      var end = currentDate - 90 * 24 * 60 * 60 * 1000;\n      newData = allData.filter(function (sample) {\n        return sample[0] >= end;\n      });\n    } else if (index == 3) {\n      var end = currentDate - 365 * 24 * 60 * 60 * 1000;\n      newData = allData.filter(function (sample) {\n        return sample[0] >= end;\n      });\n    } else if (index == 4) {\n      newData = allData;\n    }\n\n    setData(newData);\n  }\n\n  return React.createElement(Animated.View, {\n    style: {\n      elevation: dragging.elevation,\n      zIndex: dragging.zIndex,\n      width: '100%',\n      alignItems: 'center',\n      transform: [{\n        translateX: 0\n      }, {\n        translateY: pan.y\n      }]\n    },\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 5\n    }\n  }, React.createElement(View, {\n    style: [{\n      shadowRadius: dragging.shadowRadius\n    }, styles.chartContainer],\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 7\n    }\n  }, React.createElement(View, {\n    style: {\n      flex: 1,\n      textAlign: 'left'\n    },\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 9\n    }\n  }, React.createElement(View, {\n    style: {\n      flex: 1,\n      flexDirection: 'row',\n      justifyContent: 'space-between'\n    },\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 11\n    }\n  }, React.createElement(Text, {\n    style: styles.cryptoSymbol,\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 13\n    }\n  }, props.symbol), React.createElement(View, _extends({\n    style: {\n      width: 25\n    }\n  }, Drag.panHandlers, {\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 13\n    }\n  }))), React.createElement(Text, {\n    style: styles.cryptoName,\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 11\n    }\n  }, props.name)), React.createElement(View, {\n    style: {\n      flex: 1,\n      height: 20,\n      textAlign: 'center',\n      marginBottom: 20\n    },\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 9\n    }\n  }, React.createElement(PriceViewer, {\n    touchX: touchX,\n    deviceWidth: width,\n    data: data,\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 11\n    }\n  })), React.createElement(View, {\n    style: {\n      height: 80,\n      flexDirection: 'row',\n      marginBottom: 15,\n      marginTop: 15\n    },\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 9\n    }\n  }, React.createElement(View, _extends({\n    style: {\n      flex: 1\n    }\n  }, panResponder.panHandlers, {\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 11\n    }\n  }), React.createElement(AreaChart, {\n    style: {\n      flex: 1,\n      height: 80\n    },\n    data: data.map(function (x) {\n      return x[1];\n    }),\n    contentInset: {\n      top: 10,\n      bottom: 10\n    },\n    curve: shape.curveNatural,\n    svg: {\n      fill: 'url(#gradient)'\n    },\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 13\n    }\n  }, React.createElement(Tooltip, {\n    touchX: touchX,\n    deviceWidth: width,\n    data: data,\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 274,\n      columnNumber: 15\n    }\n  }), React.createElement(ChartLine, {\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 15\n    }\n  }), React.createElement(Gradient, {\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 15\n    }\n  })))), React.createElement(View, {\n    style: {\n      flex: 1,\n      alignItems: 'center'\n    },\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 281,\n      columnNumber: 9\n    }\n  }, React.createElement(View, {\n    style: styles.buttonsContainer,\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 282,\n      columnNumber: 11\n    }\n  }, React.createElement(View, {\n    style: period[0] == 1 ? [styles.button, {\n      backgroundColor: 'rgb(41, 114, 255)'\n    }] : styles.button,\n    onStartShouldSetResponder: function onStartShouldSetResponder() {\n      return buttonCLicked(0);\n    },\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 283,\n      columnNumber: 13\n    }\n  }, React.createElement(Text, {\n    style: period[0] == 1 ? [styles.buttonText, {\n      color: '#ffffff'\n    }] : styles.buttonText,\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 15\n    }\n  }, \"1W\")), React.createElement(View, {\n    style: period[1] == 1 ? [styles.button, {\n      backgroundColor: 'rgb(41, 114, 255)'\n    }] : styles.button,\n    onStartShouldSetResponder: function onStartShouldSetResponder() {\n      return buttonCLicked(1);\n    },\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 288,\n      columnNumber: 13\n    }\n  }, React.createElement(Text, {\n    style: period[1] == 1 ? [styles.buttonText, {\n      color: '#ffffff'\n    }] : styles.buttonText,\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 289,\n      columnNumber: 15\n    }\n  }, \"1M\")), React.createElement(View, {\n    style: period[2] == 1 ? [styles.button, {\n      backgroundColor: 'rgb(41, 114, 255)'\n    }] : styles.button,\n    onStartShouldSetResponder: function onStartShouldSetResponder() {\n      return buttonCLicked(2);\n    },\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 293,\n      columnNumber: 13\n    }\n  }, React.createElement(Text, {\n    style: period[2] == 1 ? [styles.buttonText, {\n      color: '#ffffff'\n    }] : styles.buttonText,\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 294,\n      columnNumber: 15\n    }\n  }, \"3M\")), React.createElement(View, {\n    style: period[3] == 1 ? [styles.button, {\n      backgroundColor: 'rgb(41, 114, 255)'\n    }] : styles.button,\n    onStartShouldSetResponder: function onStartShouldSetResponder() {\n      return buttonCLicked(3);\n    },\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 298,\n      columnNumber: 13\n    }\n  }, React.createElement(Text, {\n    style: period[3] == 1 ? [styles.buttonText, {\n      color: '#ffffff'\n    }] : styles.buttonText,\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 299,\n      columnNumber: 15\n    }\n  }, \"1Y\")), React.createElement(View, {\n    style: period[4] == 1 ? [styles.button, {\n      backgroundColor: 'rgb(41, 114, 255)'\n    }] : styles.button,\n    onStartShouldSetResponder: function onStartShouldSetResponder() {\n      return buttonCLicked(4);\n    },\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 303,\n      columnNumber: 13\n    }\n  }, React.createElement(Text, {\n    style: period[4] == 1 ? [styles.buttonText, {\n      color: '#ffffff'\n    }] : styles.buttonText,\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 304,\n      columnNumber: 15\n    }\n  }, \"3Y\"))))));\n};\n\nvar styles = StyleSheet.create({\n  container: {\n    flexGrow: 0,\n    justifyContent: 'flex-start',\n    marginTop: 60,\n    paddingBottom: 130\n  },\n  topBar: {\n    position: 'absolute',\n    zIndex: 200,\n    top: 0,\n    height: 60,\n    justifyContent: 'flex-end',\n    alignItems: 'center',\n    width: '100%',\n    flex: 1,\n    backgroundColor: \"#e9f0ff\",\n    paddingBottom: 8\n  },\n  chartContainer: {\n    backgroundColor: '#ffffff',\n    width: '92%',\n    borderRadius: 20,\n    padding: 20,\n    marginBottom: 20\n  },\n  cryptoSymbol: {\n    fontFamily: 'Poppins_500Medium',\n    fontSize: 25,\n    color: '#000000'\n  },\n  cryptoName: {\n    fontFamily: 'Poppins_500Medium',\n    fontSize: 20,\n    color: '#000000'\n  },\n  currentPrice: {\n    fontFamily: 'Poppins_500Medium',\n    fontSize: 18,\n    color: '#000000',\n    margin: 0\n  },\n  currentDate: {\n    fontFamily: 'Poppins_500Medium',\n    fontSize: 12,\n    color: '#000000',\n    margin: 0\n  },\n  text: {\n    fontFamily: 'Poppins_600SemiBold',\n    fontSize: 30,\n    color: '#000000'\n  },\n  buttonsContainer: {\n    width: '80%',\n    flexDirection: 'row',\n    justifyContent: 'space-between'\n  },\n  button: {\n    paddingTop: 5,\n    paddingBottom: 5,\n    paddingLeft: 10,\n    paddingRight: 10,\n    borderRadius: 30\n  },\n  buttonText: {\n    fontFamily: 'Poppins_500Medium',\n    fontSize: 12,\n    color: '#000000'\n  }\n});","map":{"version":3,"sources":["/Users/francescomontanaro/Desktop/Università/Corsi/Design and Implementation of Mobile Applications/CryptoSimulator_Client/components/Predictions.js"],"names":["React","useState","useEffect","useRef","Component","useFonts","Poppins_300Light","Poppins_400Regular","Poppins_500Medium","Poppins_600SemiBold","AppLoading","firebase","AreaChart","shape","Defs","LinearGradient","Stop","Path","Tooltip","PriceViewer","CirclesLoader","Predictions","loading","setLoading","cryptoData","setCryptoData","scrollable","setScrollable","flatListRef","fontsLoaded","setScroll","scroll","renderItem","item","index","name","symbol","length","values","map","x","endDate","Date","getFullYear","getMonth","getDate","startDate","getTime","functions","httpsCallable","assets","start","end","interval","then","response","data","statusCode","body","console","error","catch","flex","backgroundColor","styles","topBar","text","fontSize","container","alignItems","justifyContent","Chart","props","allData","filter","sample","setData","period","setPeriod","touchX","setTouchX","width","Math","ceil","Dimensions","get","pan","Animated","ValueXY","current","elevation","shadowRadius","zIndex","dragging","setDragging","ChartLine","line","Gradient","panResponder","PanResponder","create","onStartShouldSetPanResponder","onPanResponderGrant","evt","nativeEvent","locationX","onPanResponderMove","onPanResponderRelease","onPanResponderTerminate","stopDragging","offset","y","_value","floor","abs","newIndex","dataLength","spring","toValue","useNativeDriver","setTimeout","Drag","setOffset","gestureState","event","dx","dy","buttonCLicked","newPeriod","currentDate","newData","transform","translateX","translateY","chartContainer","textAlign","flexDirection","cryptoSymbol","panHandlers","cryptoName","height","marginBottom","marginTop","top","bottom","curveNatural","fill","buttonsContainer","button","buttonText","color","StyleSheet","flexGrow","paddingBottom","position","borderRadius","padding","fontFamily","currentPrice","margin","paddingTop","paddingLeft","paddingRight"],"mappings":"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","sourcesContent":["import 'react-native-gesture-handler';\nimport { Animated, StyleSheet, Text, TouchableOpacity, ScrollView, FlatList, View, PanResponder, Dimensions, SafeAreaView, ActivityIndicator} from 'react-native';\nimport React, {useState,useEffect,useRef,Component} from 'react';\nimport { useFonts, Poppins_300Light, Poppins_400Regular, Poppins_500Medium, Poppins_600SemiBold} from '@expo-google-fonts/poppins';\nimport { AppLoading } from 'expo';\nimport * as firebase from 'firebase'\nimport \"firebase/functions\";\nimport { AreaChart} from 'react-native-svg-charts'\nimport * as shape from 'd3-shape'\nimport { Defs, LinearGradient, Stop, Path} from 'react-native-svg'\nimport Tooltip from './Tooltip'\nimport PriceViewer from './PriceViewer'\nimport {CirclesLoader} from 'react-native-indicator';\n\n\nexport default function Predictions() {\n  const [loading, setLoading] = useState(true);\n  const [cryptoData, setCryptoData] = useState([]);\n  const [scrollable, setScrollable] = useState(true);\n  const flatListRef = React.useRef();\n  let [fontsLoaded] = useFonts({\n    Poppins_300Light,\n    Poppins_400Regular,\n    Poppins_500Medium,\n    Poppins_600SemiBold\n  });\n\n  const setScroll = (scroll) => {\n    setScrollable(scroll);\n  }\n\n  const renderItem = ({ item, index }) => {\n    return (\n      <Chart name={item.name} symbol={item.symbol} index={index} dataLength={cryptoData.length} scroll={setScroll} data={(item.values).map(x => [x[0], x[4]])}/>\n    );\n  };\n\n  var endDate = new Date();\n  endDate = endDate.getFullYear() + \"-\" + (endDate.getMonth() + 1) + \"-\" + endDate.getDate();\n\n  var startDate = new Date((new Date()).getTime() - 3*365*24*60*60*1000);\n  startDate = startDate.getFullYear() + \"-\" + (startDate.getMonth() + 1) + \"-\" + startDate.getDate();\n\n  useEffect(()=>{\n    if(loading && !fontsLoaded){\n    firebase.functions().httpsCallable('getCryptoData')({assets: ['BTC', 'ETH', 'LTC', 'ADA', 'XLM'], start: startDate, end: endDate, interval: '1d'}).then(response =>{\n      if(response.data.statusCode == 200){\n        setCryptoData(response.data.body);\n        setLoading(false);\n      }\n      else{\n        console.error(response.data.body);\n      }\n    }).catch(error =>{\n      console.error(error);\n    })\n  }},[])\n\n  if (!fontsLoaded) {\n    return <AppLoading/>;\n  }\n  else{\n  if(!loading){\n    return (\n      <SafeAreaView style={{flex: 1, backgroundColor:'#e9f0ff'}}>\n        <View style={styles.topBar}>\n          <Text style={[styles.text, {fontSize: 18}]}>CryptoSimulator</Text>\n        </View>\n        <FlatList data={cryptoData} renderItem={renderItem} ref={flatListRef} contentContainerStyle={styles.container} showsVerticalScrollIndicator={false} scrollEnabled={scrollable}/>\n      </SafeAreaView>\n    );\n    }\n    else{\n      return(\n        <View style={{flex: 1, alignItems: 'center', justifyContent: 'center', backgroundColor: '#e9f0ff'}}>\n          <View style={styles.topBar} blurRadius={1}>\n            <Text style={[styles.text, {fontSize: 18}]}>CryptoSimulator</Text>\n          </View>\n          <View style={{flex: 1, alignItems: 'center', justifyContent: 'center'}}>\n            <ActivityIndicator size=\"large\" color='rgb(41,114,255)' />\n          </View>\n        </View>\n      );\n    }\n  }\n};\n\n\nconst Chart = (props) => {\n  const allData = props.data;\n  const [data, setData] = useState(allData.filter(sample => sample[0] >= ((new Date).getTime() - 30*24*60*60*1000)));\n  const [period, setPeriod] = useState([0,1,0,0,0]);\n  const [touchX, setTouchX] = useState(-1);\n  const width = Math.ceil(0.92 * Dimensions.get('window').width - 40);\n  const pan = useRef(new Animated.ValueXY()).current;\n  const [dragging, setDragging] = useState({elevation: 1, shadowRadius: 5, zIndex: 1});\n\n  \n  const ChartLine = ({ line }) => (\n    <Path\n        key={'line'}\n        d={line}\n        stroke={'rgb(41, 114, 255)'}\n        fill={'none'}\n        strokeWidth={2}\n    />\n  )\n\n  const Gradient = ({ index }) => (\n    <Defs key={index}>\n        <LinearGradient id={'gradient'} x1={'0%'} y1={'0%'} x2={'0%'} y2={'100%'}>\n            <Stop offset={'0%'} stopColor={'rgb(41, 114, 255)'} stopOpacity={0.2}/>\n            <Stop offset={'50%'} stopColor={'rgb(41, 114, 255)'} stopOpacity={0}/>\n        </LinearGradient>\n    </Defs>\n  )\n\n\n  const panResponder = React.useRef(\n    PanResponder.create({\n      onStartShouldSetPanResponder: () => true,\n      onPanResponderGrant: (evt) => {\n        props.scroll(false);\n        if(evt.nativeEvent.locationX >= 0 && evt.nativeEvent.locationX <= width){\n          setTouchX(evt.nativeEvent.locationX);\n        }\n      },\n      onPanResponderMove: (evt) => {\n        if(evt.nativeEvent.locationX >= 0 && evt.nativeEvent.locationX <= width){\n          setTouchX(evt.nativeEvent.locationX);\n        }\n      },\n      onPanResponderRelease: () => {\n        props.scroll(true);\n        setTouchX(-1);\n      },\n      onPanResponderTerminate: () => {\n        props.scroll(true);\n        setTouchX(-1);\n      }\n    })\n  ).current;\n\n\n  function stopDragging(){\n    let offset;\n    if(pan.y._value / 301 < 0){\n      offset = Math.floor(Math.abs(pan.y._value / 301)) * -1;\n    }\n    else{\n      offset = Math.floor(pan.y._value / 301);\n    }\n    let newIndex;\n    if(props.index == 0 && offset < 0){\n      newIndex = props.index;\n    }\n    else if(props.index == props.dataLength - 1 && offset > 0){\n      newIndex = props.index;\n    }\n    else{\n      newIndex = props.index + offset;\n      if(newIndex < 0){\n        newIndex = 0;\n      }\n      else if(newIndex > props.dataLength - 1){\n        newIndex = props.dataLength - 1;\n      }\n    }\n    /*if(newIndex != props.index){\n      props.moveItem(props.index , newIndex);\n    }\n    else{\n      Animated.spring(\n        pan,\n        { toValue: { x: 0, y: 0 }, useNativeDriver: false }\n      ).start();\n    }*/\n    Animated.spring(\n      pan,\n      { toValue: { x: 0, y: 0 }, useNativeDriver: false }\n    ).start();\n    props.scroll(true);\n    setDragging({elevation: 100, shadowRadius: 5, zIndex: 100});\n    setTimeout(function(){\n      setDragging({elevation: 1, shadowRadius: 5, zIndex: 1});\n    },300);\n  }\n\n\n  const Drag = React.useRef(\n    PanResponder.create({\n      onStartShouldSetPanResponder: () => true,\n      onPanResponderGrant: () => {\n        props.scroll(false);\n        setDragging({elevation: 100, shadowRadius: 20, zIndex: 100});\n        pan.setOffset({\n          x: 0,\n          y: 0\n        });\n      },\n      onPanResponderMove: (evt, gestureState) => {\n        return Animated.event(\n          [\n            null, \n            { dx: pan.x, dy: pan.y }\n          ],\n          {useNativeDriver: false}\n        )(evt, gestureState)\n      },\n      onPanResponderRelease: () => {\n        stopDragging();\n      },\n      onPanResponderTerminate: () => {\n        stopDragging();\n      }\n    })\n  ).current;\n\n  function buttonCLicked(index){\n    var newPeriod = [0,0,0,0,0];\n    newPeriod[index] = 1;\n    setPeriod(newPeriod);\n    var currentDate = (new Date()).getTime();\n    var newData;\n\n    if(index == 0){\n      var end = (currentDate - 7*24*60*60*1000);\n      newData = allData.filter(sample => sample[0] >= end);\n    }\n    else if(index == 1){\n      var end = (currentDate - 30*24*60*60*1000);\n      newData = allData.filter(sample => sample[0] >= end);\n    }\n    else if(index == 2){\n      var end = (currentDate - 90*24*60*60*1000);\n      newData = allData.filter(sample => sample[0] >= end);\n    }\n    else if(index == 3){\n      var end = (currentDate - 365*24*60*60*1000);\n      newData = allData.filter(sample => sample[0] >= end);\n    }\n    else if(index == 4){\n      newData = allData;\n    }\n    setData(newData);\n  }\n\n\n  return (\n    <Animated.View style={{elevation: dragging.elevation, zIndex: dragging.zIndex, width:'100%', alignItems: 'center', transform: [{ translateX: 0 }, { translateY: pan.y }]}}>\n      <View style={[{shadowRadius: dragging.shadowRadius}, styles.chartContainer]}>\n        <View style={{flex: 1, textAlign: 'left'}}>\n          <View style={{flex: 1, flexDirection: 'row', justifyContent: 'space-between'}}>\n            <Text style={styles.cryptoSymbol}>{props.symbol}</Text>\n            <View style={{width: 25}} {...Drag.panHandlers}>\n            </View>\n          </View>\n          <Text style={styles.cryptoName}>{props.name}</Text>\n        </View>\n\n        <View style={{flex: 1, height: 20, textAlign: 'center', marginBottom: 20}}>\n          <PriceViewer touchX={touchX} deviceWidth={width} data={data}></PriceViewer>\n        </View>\n\n        <View style={{ height: 80, flexDirection: 'row', marginBottom: 15, marginTop: 15 }}>\n          <View style={{ flex: 1}} {...panResponder.panHandlers}>\n            <AreaChart\n              style={{ flex:1, height: 80}}\n              data={data.map(x => x[1])}\n              contentInset={{ top: 10, bottom: 10 }}\n              curve={shape.curveNatural}\n              svg={{ fill: 'url(#gradient)' }}\n              >\n              <Tooltip touchX={touchX} deviceWidth={width} data={data}/>\n              <ChartLine/>\n              <Gradient/>\n            </AreaChart>\n          </View>\n        </View>\n\n        <View style={{flex: 1, alignItems: 'center'}}>\n          <View style={styles.buttonsContainer}>\n            <View style={period[0] == 1 ? [styles.button, {backgroundColor: 'rgb(41, 114, 255)'}]:styles.button} onStartShouldSetResponder={() => buttonCLicked(0)}>\n              <Text style={period[0] == 1 ? [styles.buttonText, {color: '#ffffff'}]:styles.buttonText}>\n                1W\n              </Text>\n            </View>\n            <View style={period[1] == 1 ? [styles.button, {backgroundColor: 'rgb(41, 114, 255)'}]:styles.button} onStartShouldSetResponder={() => buttonCLicked(1)}>\n              <Text style={period[1] == 1 ? [styles.buttonText, {color: '#ffffff'}]:styles.buttonText}>\n                1M\n              </Text>\n            </View>\n            <View style={period[2] == 1 ? [styles.button, {backgroundColor: 'rgb(41, 114, 255)'}]:styles.button} onStartShouldSetResponder={() => buttonCLicked(2)}>\n              <Text style={period[2] == 1 ? [styles.buttonText, {color: '#ffffff'}]:styles.buttonText}>\n                3M\n              </Text>\n            </View>\n            <View style={period[3] == 1 ? [styles.button, {backgroundColor: 'rgb(41, 114, 255)'}]:styles.button} onStartShouldSetResponder={() => buttonCLicked(3)}>\n              <Text style={period[3] == 1 ? [styles.buttonText, {color: '#ffffff'}]:styles.buttonText}>\n                1Y\n              </Text>\n            </View>\n            <View style={period[4] == 1 ? [styles.button, {backgroundColor: 'rgb(41, 114, 255)'}]:styles.button} onStartShouldSetResponder={() => buttonCLicked(4)}>\n              <Text style={period[4] == 1 ? [styles.buttonText, {color: '#ffffff'}]:styles.buttonText}>\n                3Y\n              </Text>\n            </View>\n          </View>\n        </View>\n      </View>\n    </Animated.View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flexGrow: 0,\n    justifyContent: 'flex-start',\n    marginTop: 60,\n    paddingBottom: 130,\n  },\n  topBar: {\n    position: 'absolute',\n    zIndex: 200,\n    top: 0,\n    height: 60,\n    justifyContent: 'flex-end',\n    alignItems: 'center',\n    width: '100%',\n    flex: 1,\n    backgroundColor: \"#e9f0ff\",\n    paddingBottom: 8\n  },\n  chartContainer: {\n    backgroundColor: '#ffffff',\n    width: '92%',\n    borderRadius: 20,\n    padding: 20,\n    marginBottom: 20,\n  },\n  cryptoSymbol: {\n    fontFamily: 'Poppins_500Medium',\n    fontSize: 25,\n    color: '#000000'\n  },\n  cryptoName: {\n    fontFamily: 'Poppins_500Medium',\n    fontSize: 20,\n    color: '#000000'\n  },\n  currentPrice: {\n    fontFamily: 'Poppins_500Medium',\n    fontSize: 18,\n    color: '#000000',\n    margin: 0\n  },\n  currentDate: {\n    fontFamily: 'Poppins_500Medium',\n    fontSize: 12,\n    color: '#000000',\n    margin: 0\n  },\n  text: {\n    fontFamily: 'Poppins_600SemiBold',\n    fontSize: 30,\n    color: '#000000'\n  },\n  buttonsContainer: {\n    width: '80%', \n    flexDirection: 'row', \n    justifyContent: 'space-between'\n  },\n  button: {\n    paddingTop: 5,\n    paddingBottom: 5,\n    paddingLeft: 10,\n    paddingRight: 10,\n    borderRadius: 30\n  },\n  buttonText: {\n    fontFamily: 'Poppins_500Medium',\n    fontSize: 12,\n    color: '#000000'\n  },\n});"]},"metadata":{},"sourceType":"module"}