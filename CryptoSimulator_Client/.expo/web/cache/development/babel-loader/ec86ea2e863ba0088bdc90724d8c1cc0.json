{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _jsxFileName = \"/Users/francescomontanaro/Desktop/Universita\\u0300/Corsi/Design and Implementation of Mobile Applications/CryptoSimulator_Client/components/Predictions.js\",\n    _this = this;\n\nimport 'react-native-gesture-handler';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport PanResponder from \"react-native-web/dist/exports/PanResponder\";\nimport React, { useState, useEffect } from 'react';\nimport { useFonts, Poppins_300Light, Poppins_400Regular, Poppins_500Medium, Poppins_600SemiBold } from '@expo-google-fonts/poppins';\nimport { AppLoading } from 'expo';\nimport * as firebase from 'firebase';\nimport \"firebase/functions\";\nimport { AreaChart, Grid, LineChart } from 'react-native-svg-charts';\nimport * as shape from 'd3-shape';\nimport { Defs, LinearGradient, Stop, Path, G, Line, Circle } from 'react-native-svg';\nimport { event } from 'react-native-reanimated';\nexport default function Predictions() {\n  var _useState = useState(true),\n      _useState2 = _slicedToArray(_useState, 2),\n      loading = _useState2[0],\n      setLoading = _useState2[1];\n\n  var _useState3 = useState({}),\n      _useState4 = _slicedToArray(_useState3, 2),\n      cryptoData = _useState4[0],\n      setCryptoData = _useState4[1];\n\n  var _useFonts = useFonts({\n    Poppins_300Light: Poppins_300Light,\n    Poppins_400Regular: Poppins_400Regular,\n    Poppins_500Medium: Poppins_500Medium,\n    Poppins_600SemiBold: Poppins_600SemiBold\n  }),\n      _useFonts2 = _slicedToArray(_useFonts, 1),\n      fontsLoaded = _useFonts2[0];\n\n  useEffect(function () {\n    if (loading && !fontsLoaded) {\n      firebase.functions().httpsCallable('getCryptoData')({\n        asset: 'bitcoin',\n        start: '2020-01-01',\n        end: '2020-02-01',\n        interval: '1d'\n      }).then(function (response) {\n        if (response.data.statusCode == 200) {\n          setCryptoData(response.data.body);\n          setLoading(false);\n        } else {\n          console.error(response.data.body);\n        }\n      }).catch(function (error) {\n        console.error(error);\n      });\n    }\n  }, []);\n\n  if (!fontsLoaded) {\n    return React.createElement(AppLoading, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 12\n      }\n    });\n  } else {\n    if (!loading) {\n      var data = [];\n      console.log(cryptoData);\n      cryptoData.values.forEach(function (sample) {\n        data.push(sample[4]);\n      });\n      return React.createElement(View, {\n        style: styles.container,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 7\n        }\n      }, React.createElement(Chart, {\n        name: cryptoData.name,\n        symbol: cryptoData.symbol,\n        currentPrice: \"17.000,00€\",\n        data: data,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 9\n        }\n      }));\n    } else {\n      return React.createElement(View, {\n        style: styles.container,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 9\n        }\n      }, React.createElement(Text, {\n        style: styles.text,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }\n      }, \"LOADING...\"));\n    }\n  }\n}\n;\n\nvar Chart = function Chart(props) {\n  var data = props.data;\n  var swipeIndex = 10;\n  var chartWidth;\n\n  var ChartLine = function ChartLine(_ref) {\n    var line = _ref.line;\n    return React.createElement(Path, {\n      key: 'line',\n      d: line,\n      stroke: 'rgb(41, 114, 255)',\n      fill: 'none',\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 5\n      }\n    });\n  };\n\n  var Gradient = function Gradient(_ref2) {\n    var index = _ref2.index;\n    return React.createElement(Defs, {\n      key: index,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 5\n      }\n    }, React.createElement(LinearGradient, {\n      id: 'gradient',\n      x1: '0%',\n      y1: '0%',\n      x2: '0%',\n      y2: '100%',\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }\n    }, React.createElement(Stop, {\n      offset: '0%',\n      stopColor: 'rgb(41, 114, 255)',\n      stopOpacity: 0.2,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 13\n      }\n    }), React.createElement(Stop, {\n      offset: '28%',\n      stopColor: 'rgb(41, 114, 255)',\n      stopOpacity: 0,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 13\n      }\n    })));\n  };\n\n  var Tooltip = function Tooltip(_ref3) {\n    var x = _ref3.x,\n        y = _ref3.y;\n    return React.createElement(G, {\n      x: x(swipeIndex) - 75 / 2,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 5\n      }\n    }, React.createElement(G, {\n      x: 75 / 2,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 7\n      }\n    }, React.createElement(Line, {\n      y1: 120,\n      y2: 0,\n      stroke: 'rgba(41, 114, 255, 0.7)',\n      strokeWidth: 1,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 11\n      }\n    }), React.createElement(Circle, {\n      cy: y(data[swipeIndex]),\n      r: 4,\n      fill: 'rgb(41, 114, 255)',\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 11\n      }\n    })));\n  };\n\n  var panResponder = React.useRef(PanResponder.create({\n    onStartShouldSetPanResponder: function onStartShouldSetPanResponder() {\n      return true;\n    },\n    onStartShouldSetPanResponderCapture: function onStartShouldSetPanResponderCapture() {\n      return true;\n    },\n    onMoveShouldSetPanResponder: function onMoveShouldSetPanResponder() {\n      return true;\n    },\n    onMoveShouldSetPanResponderCapture: function onMoveShouldSetPanResponderCapture() {\n      return true;\n    },\n    onPanResponderGrant: function onPanResponderGrant(evt, gestureState) {\n      if (evt.nativeEvent.locationX >= 0 && evt.nativeEvent.locationX <= chartWidth) {\n        swipeIndex = Math.floor(evt.nativeEvent.locationX / chartWidth * data.length);\n      }\n\n      console.log(swipeIndex);\n    },\n    onPanResponderMove: function onPanResponderMove(evt, gestureState) {\n      swipeIndex = Math.floor(evt.nativeEvent.locationX / chartWidth * data.length);\n      console.log(swipeIndex);\n    },\n    onPanResponderRelease: function onPanResponderRelease() {\n      return;\n    },\n    onPanResponderTerminate: function onPanResponderTerminate() {\n      return;\n    }\n  })).current;\n  return React.createElement(View, {\n    style: styles.chartContainer,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 5\n    }\n  }, React.createElement(View, {\n    style: {\n      flex: 1,\n      textAlign: 'left'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 7\n    }\n  }, React.createElement(Text, {\n    style: styles.cryptoSymbol,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 9\n    }\n  }, props.symbol), React.createElement(Text, {\n    style: styles.cryptoName,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 9\n    }\n  }, props.name)), React.createElement(View, {\n    style: {\n      height: 120,\n      flexDirection: 'row',\n      marginBottom: 15,\n      marginTop: 15\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 7\n    }\n  }, React.createElement(View, _extends({\n    style: {\n      flex: 1,\n      marginLeft: 10\n    }\n  }, panResponder.panHandlers, {\n    onLayout: function onLayout(event) {\n      chartWidth = event.nativeEvent.layout.width;\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 11\n    }\n  }), React.createElement(AreaChart, {\n    style: {\n      flex: 1,\n      height: 120\n    },\n    data: props.data,\n    contentInset: {\n      top: 10,\n      bottom: 10\n    },\n    curve: shape.curveNatural,\n    svg: {\n      fill: 'url(#gradient)'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 13\n    }\n  }, React.createElement(Tooltip, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 15\n    }\n  }), React.createElement(ChartLine, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 15\n    }\n  }), React.createElement(Gradient, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 15\n    }\n  })))), React.createElement(View, {\n    style: {\n      flex: 1,\n      alignItems: 'center',\n      marginTop: 20\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 7\n    }\n  }, React.createElement(View, {\n    style: styles.buttonsContainer,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 9\n    }\n  }, React.createElement(View, {\n    style: styles.button,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 11\n    }\n  }, React.createElement(Text, {\n    style: styles.buttonText,\n    style: {\n      color: '#ffffff'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 13\n    }\n  }, \"1D\")), React.createElement(View, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 11\n    }\n  }, React.createElement(Text, {\n    style: styles.buttonText,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 13\n    }\n  }, \"1W\")), React.createElement(View, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 11\n    }\n  }, React.createElement(Text, {\n    style: styles.buttonText,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 13\n    }\n  }, \"1M\")), React.createElement(View, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 11\n    }\n  }, React.createElement(Text, {\n    style: styles.buttonText,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 13\n    }\n  }, \"1Y\")), React.createElement(View, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 11\n    }\n  }, React.createElement(Text, {\n    style: styles.buttonText,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 13\n    }\n  }, \"ALWAYS\")))));\n};\n\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#e9f0ff',\n    alignItems: 'center',\n    justifyContent: 'flex-start',\n    paddingTop: 30\n  },\n  chartContainer: {\n    backgroundColor: '#ffffff',\n    width: '90%',\n    borderRadius: 20,\n    padding: 20,\n    marginBottom: 20\n  },\n  cryptoSymbol: {\n    fontFamily: 'Poppins_500Medium',\n    fontSize: 25,\n    color: '#000000'\n  },\n  cryptoName: {\n    fontFamily: 'Poppins_500Medium',\n    fontSize: 20,\n    color: '#000000'\n  },\n  priceContainer: {\n    flex: 1,\n    alignItems: 'center'\n  },\n  currentPrice: {\n    fontFamily: 'Poppins_500Medium',\n    fontSize: 18,\n    color: '#000000',\n    margin: 0\n  },\n  text: {\n    fontFamily: 'Poppins_600SemiBold',\n    fontSize: 30,\n    color: '#000000'\n  },\n  buttonsContainer: {\n    width: '80%',\n    flexDirection: 'row',\n    justifyContent: 'space-between'\n  },\n  button: {\n    paddingTop: 5,\n    paddingBottom: 5,\n    paddingLeft: 10,\n    paddingRight: 10,\n    backgroundColor: 'rgb(41, 114, 255)',\n    borderRadius: 30\n  },\n  buttonText: {\n    fontFamily: 'Poppins_500Medium',\n    fontSize: 12,\n    color: '#000000'\n  }\n});","map":{"version":3,"sources":["/Users/francescomontanaro/Desktop/Università/Corsi/Design and Implementation of Mobile Applications/CryptoSimulator_Client/components/Predictions.js"],"names":["React","useState","useEffect","useFonts","Poppins_300Light","Poppins_400Regular","Poppins_500Medium","Poppins_600SemiBold","AppLoading","firebase","AreaChart","Grid","LineChart","shape","Defs","LinearGradient","Stop","Path","G","Line","Circle","event","Predictions","loading","setLoading","cryptoData","setCryptoData","fontsLoaded","functions","httpsCallable","asset","start","end","interval","then","response","data","statusCode","body","console","error","catch","log","values","forEach","sample","push","styles","container","name","symbol","text","Chart","props","swipeIndex","chartWidth","ChartLine","line","Gradient","index","Tooltip","x","y","panResponder","useRef","PanResponder","create","onStartShouldSetPanResponder","onStartShouldSetPanResponderCapture","onMoveShouldSetPanResponder","onMoveShouldSetPanResponderCapture","onPanResponderGrant","evt","gestureState","nativeEvent","locationX","Math","floor","length","onPanResponderMove","onPanResponderRelease","onPanResponderTerminate","current","chartContainer","flex","textAlign","cryptoSymbol","cryptoName","height","flexDirection","marginBottom","marginTop","marginLeft","panHandlers","layout","width","top","bottom","curveNatural","fill","alignItems","buttonsContainer","button","buttonText","color","StyleSheet","backgroundColor","justifyContent","paddingTop","borderRadius","padding","fontFamily","fontSize","priceContainer","currentPrice","margin","paddingBottom","paddingLeft","paddingRight"],"mappings":";;;;;;AAAA,OAAO,8BAAP;;;;;;AAEA,OAAOA,KAAP,IAAeC,QAAf,EAAwBC,SAAxB,QAAwC,OAAxC;AACA,SAASC,QAAT,EAAmBC,gBAAnB,EAAqCC,kBAArC,EAAyDC,iBAAzD,EAA4EC,mBAA5E,QAAsG,4BAAtG;AACA,SAASC,UAAT,QAA2B,MAA3B;AACA,OAAO,KAAKC,QAAZ,MAA0B,UAA1B;AACA,OAAO,oBAAP;AACA,SAASC,SAAT,EAAoBC,IAApB,EAA0BC,SAA1B,QAA0C,yBAA1C;AACA,OAAO,KAAKC,KAAZ,MAAuB,UAAvB;AACA,SAASC,IAAT,EAAeC,cAAf,EAA+BC,IAA/B,EAAqCC,IAArC,EAA2CC,CAA3C,EAA8CC,IAA9C,EAAoDC,MAApD,QAAiE,kBAAjE;AACA,SAASC,KAAT,QAAsB,yBAAtB;AAGA,eAAe,SAASC,WAAT,GAAuB;AAAA,kBACNrB,QAAQ,CAAC,IAAD,CADF;AAAA;AAAA,MAC7BsB,OAD6B;AAAA,MACpBC,UADoB;;AAAA,mBAEAvB,QAAQ,CAAC,EAAD,CAFR;AAAA;AAAA,MAE7BwB,UAF6B;AAAA,MAEjBC,aAFiB;;AAAA,kBAGhBvB,QAAQ,CAAC;AAC3BC,IAAAA,gBAAgB,EAAhBA,gBAD2B;AAE3BC,IAAAA,kBAAkB,EAAlBA,kBAF2B;AAG3BC,IAAAA,iBAAiB,EAAjBA,iBAH2B;AAI3BC,IAAAA,mBAAmB,EAAnBA;AAJ2B,GAAD,CAHQ;AAAA;AAAA,MAG/BoB,WAH+B;;AAUpCzB,EAAAA,SAAS,CAAC,YAAI;AACZ,QAAGqB,OAAO,IAAI,CAACI,WAAf,EAA2B;AAC3BlB,MAAAA,QAAQ,CAACmB,SAAT,GAAqBC,aAArB,CAAmC,eAAnC,EAAoD;AAACC,QAAAA,KAAK,EAAE,SAAR;AAAmBC,QAAAA,KAAK,EAAE,YAA1B;AAAwCC,QAAAA,GAAG,EAAE,YAA7C;AAA2DC,QAAAA,QAAQ,EAAE;AAArE,OAApD,EAAgIC,IAAhI,CAAqI,UAAAC,QAAQ,EAAG;AAC9I,YAAGA,QAAQ,CAACC,IAAT,CAAcC,UAAd,IAA4B,GAA/B,EAAmC;AACjCX,UAAAA,aAAa,CAACS,QAAQ,CAACC,IAAT,CAAcE,IAAf,CAAb;AACAd,UAAAA,UAAU,CAAC,KAAD,CAAV;AACD,SAHD,MAII;AACFe,UAAAA,OAAO,CAACC,KAAR,CAAcL,QAAQ,CAACC,IAAT,CAAcE,IAA5B;AACD;AACF,OARD,EAQGG,KARH,CAQS,UAAAD,KAAK,EAAG;AACfD,QAAAA,OAAO,CAACC,KAAR,CAAcA,KAAd;AACD,OAVD;AAWD;AAAC,GAbO,EAaN,EAbM,CAAT;;AAeA,MAAI,CAACb,WAAL,EAAkB;AAChB,WAAO,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAP;AACD,GAFD,MAGI;AACF,QAAG,CAACJ,OAAJ,EAAY;AACV,UAAIa,IAAI,GAAG,EAAX;AACAG,MAAAA,OAAO,CAACG,GAAR,CAAYjB,UAAZ;AACCA,MAAAA,UAAU,CAACkB,MAAZ,CAAoBC,OAApB,CAA4B,UAAAC,MAAM,EAAG;AACnCT,QAAAA,IAAI,CAACU,IAAL,CAAUD,MAAM,CAAC,CAAD,CAAhB;AACD,OAFD;AAIF,aACE,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEE,MAAM,CAACC,SAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,KAAD;AAAO,QAAA,IAAI,EAAEvB,UAAU,CAACwB,IAAxB;AAA8B,QAAA,MAAM,EAAExB,UAAU,CAACyB,MAAjD;AAAyD,QAAA,YAAY,EAAE,YAAvE;AAAqF,QAAA,IAAI,EAAEd,IAA3F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CADF;AAKC,KAZD,MAaI;AACF,aACE,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEW,MAAM,CAACC,SAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAED,MAAM,CAACI,IAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,CADF;AAOD;AACF;AACF;AAAA;;AAGD,IAAMC,KAAK,GAAG,SAARA,KAAQ,CAACC,KAAD,EAAW;AACvB,MAAMjB,IAAI,GAAGiB,KAAK,CAACjB,IAAnB;AACA,MAAIkB,UAAU,GAAG,EAAjB;AACA,MAAIC,UAAJ;;AAEA,MAAMC,SAAS,GAAG,SAAZA,SAAY;AAAA,QAAGC,IAAH,QAAGA,IAAH;AAAA,WAChB,oBAAC,IAAD;AACI,MAAA,GAAG,EAAE,MADT;AAEI,MAAA,CAAC,EAAEA,IAFP;AAGI,MAAA,MAAM,EAAE,mBAHZ;AAII,MAAA,IAAI,EAAE,MAJV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADgB;AAAA,GAAlB;;AASA,MAAMC,QAAQ,GAAG,SAAXA,QAAW;AAAA,QAAGC,KAAH,SAAGA,KAAH;AAAA,WACf,oBAAC,IAAD;AAAM,MAAA,GAAG,EAAEA,KAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,cAAD;AAAgB,MAAA,EAAE,EAAE,UAApB;AAAgC,MAAA,EAAE,EAAE,IAApC;AAA0C,MAAA,EAAE,EAAE,IAA9C;AAAoD,MAAA,EAAE,EAAE,IAAxD;AAA8D,MAAA,EAAE,EAAE,MAAlE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,IAAD;AAAM,MAAA,MAAM,EAAE,IAAd;AAAoB,MAAA,SAAS,EAAE,mBAA/B;AAAoD,MAAA,WAAW,EAAE,GAAjE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,EAEI,oBAAC,IAAD;AAAM,MAAA,MAAM,EAAE,KAAd;AAAqB,MAAA,SAAS,EAAE,mBAAhC;AAAqD,MAAA,WAAW,EAAE,CAAlE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,CADJ,CADe;AAAA,GAAjB;;AASA,MAAMC,OAAO,GAAG,SAAVA,OAAU;AAAA,QAAGC,CAAH,SAAGA,CAAH;AAAA,QAAMC,CAAN,SAAMA,CAAN;AAAA,WACd,oBAAC,CAAD;AAAG,MAAA,CAAC,EAAGD,CAAC,CAACP,UAAD,CAAD,GAAiB,KAAK,CAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,CAAD;AAAG,MAAA,CAAC,EAAG,KAAK,CAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,IAAD;AACE,MAAA,EAAE,EAAG,GADP;AAEE,MAAA,EAAE,EAAG,CAFP;AAGE,MAAA,MAAM,EAAG,yBAHX;AAIE,MAAA,WAAW,EAAG,CAJhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,EAOI,oBAAC,MAAD;AACI,MAAA,EAAE,EAAGQ,CAAC,CAAC1B,IAAI,CAACkB,UAAD,CAAL,CADV;AAEI,MAAA,CAAC,EAAG,CAFR;AAGI,MAAA,IAAI,EAAG,mBAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAPJ,CADF,CADc;AAAA,GAAhB;;AAkBA,MAAMS,YAAY,GAAG/D,KAAK,CAACgE,MAAN,CACnBC,YAAY,CAACC,MAAb,CAAoB;AAClBC,IAAAA,4BAA4B,EAAE;AAAA,aAAM,IAAN;AAAA,KADZ;AAElBC,IAAAA,mCAAmC,EAAE;AAAA,aAAM,IAAN;AAAA,KAFnB;AAGlBC,IAAAA,2BAA2B,EAAE;AAAA,aAAM,IAAN;AAAA,KAHX;AAIlBC,IAAAA,kCAAkC,EAAE;AAAA,aAAM,IAAN;AAAA,KAJlB;AAMlBC,IAAAA,mBAAmB,EAAE,6BAACC,GAAD,EAAMC,YAAN,EAAuB;AAC1C,UAAGD,GAAG,CAACE,WAAJ,CAAgBC,SAAhB,IAA6B,CAA7B,IAAkCH,GAAG,CAACE,WAAJ,CAAgBC,SAAhB,IAA6BpB,UAAlE,EAA6E;AAC3ED,QAAAA,UAAU,GAAGsB,IAAI,CAACC,KAAL,CAAYL,GAAG,CAACE,WAAJ,CAAgBC,SAAhB,GAA4BpB,UAA7B,GAA2CnB,IAAI,CAAC0C,MAA3D,CAAb;AACD;;AACDvC,MAAAA,OAAO,CAACG,GAAR,CAAYY,UAAZ;AACD,KAXiB;AAYlByB,IAAAA,kBAAkB,EAAE,4BAACP,GAAD,EAAMC,YAAN,EAAuB;AACzCnB,MAAAA,UAAU,GAAGsB,IAAI,CAACC,KAAL,CAAYL,GAAG,CAACE,WAAJ,CAAgBC,SAAhB,GAA4BpB,UAA7B,GAA2CnB,IAAI,CAAC0C,MAA3D,CAAb;AACAvC,MAAAA,OAAO,CAACG,GAAR,CAAYY,UAAZ;AACD,KAfiB;AAgBlB0B,IAAAA,qBAAqB,EAAE,iCAAM;AAC3B;AACD,KAlBiB;AAmBlBC,IAAAA,uBAAuB,EAAE,mCAAM;AAC7B;AACD;AArBiB,GAApB,CADmB,EAwBnBC,OAxBF;AA0BA,SACE,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAEnC,MAAM,CAACoC,cAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAE;AAACC,MAAAA,IAAI,EAAE,CAAP;AAAUC,MAAAA,SAAS,EAAE;AAArB,KAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAEtC,MAAM,CAACuC,YAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAmCjC,KAAK,CAACH,MAAzC,CADF,EAEE,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAEH,MAAM,CAACwC,UAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAiClC,KAAK,CAACJ,IAAvC,CAFF,CADF,EAME,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAE;AAAEuC,MAAAA,MAAM,EAAE,GAAV;AAAeC,MAAAA,aAAa,EAAE,KAA9B;AAAqCC,MAAAA,YAAY,EAAE,EAAnD;AAAuDC,MAAAA,SAAS,EAAE;AAAlE,KAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAE;AAAEP,MAAAA,IAAI,EAAE,CAAR;AAAWQ,MAAAA,UAAU,EAAE;AAAvB;AAAb,KAA8C7B,YAAY,CAAC8B,WAA3D;AAAwE,IAAA,QAAQ,EAAE,kBAACxE,KAAD,EAAW;AAACkC,MAAAA,UAAU,GAAGlC,KAAK,CAACqD,WAAN,CAAkBoB,MAAlB,CAAyBC,KAAtC;AAA6C,KAA3I;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MACE,oBAAC,SAAD;AACE,IAAA,KAAK,EAAE;AAAEX,MAAAA,IAAI,EAAC,CAAP;AAAUI,MAAAA,MAAM,EAAE;AAAlB,KADT;AAEE,IAAA,IAAI,EAAEnC,KAAK,CAACjB,IAFd;AAGE,IAAA,YAAY,EAAE;AAAE4D,MAAAA,GAAG,EAAE,EAAP;AAAWC,MAAAA,MAAM,EAAE;AAAnB,KAHhB;AAIE,IAAA,KAAK,EAAEpF,KAAK,CAACqF,YAJf;AAKE,IAAA,GAAG,EAAE;AAAEC,MAAAA,IAAI,EAAE;AAAR,KALP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAOE,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAPF,EAQE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IARF,EASE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IATF,CADF,CADJ,CANF,EAsBE,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAE;AAACf,MAAAA,IAAI,EAAE,CAAP;AAAUgB,MAAAA,UAAU,EAAE,QAAtB;AAAgCT,MAAAA,SAAS,EAAE;AAA3C,KAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAE5C,MAAM,CAACsD,gBAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAEtD,MAAM,CAACuD,MAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAEvD,MAAM,CAACwD,UAApB;AAAgC,IAAA,KAAK,EAAE;AAACC,MAAAA,KAAK,EAAE;AAAR,KAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADF,CADF,EAME,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAEzD,MAAM,CAACwD,UAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADF,CANF,EAWE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAExD,MAAM,CAACwD,UAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADF,CAXF,EAgBE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAExD,MAAM,CAACwD,UAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADF,CAhBF,EAqBE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAExD,MAAM,CAACwD,UAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,CArBF,CADF,CAtBF,CADF;AAsDD,CAzHD;;AA4HA,IAAMxD,MAAM,GAAG0D,UAAU,CAACvC,MAAX,CAAkB;AAC/BlB,EAAAA,SAAS,EAAE;AACToC,IAAAA,IAAI,EAAC,CADI;AAETsB,IAAAA,eAAe,EAAE,SAFR;AAGTN,IAAAA,UAAU,EAAE,QAHH;AAITO,IAAAA,cAAc,EAAE,YAJP;AAKTC,IAAAA,UAAU,EAAE;AALH,GADoB;AAQ/BzB,EAAAA,cAAc,EAAE;AACduB,IAAAA,eAAe,EAAE,SADH;AAEdX,IAAAA,KAAK,EAAE,KAFO;AAGdc,IAAAA,YAAY,EAAE,EAHA;AAIdC,IAAAA,OAAO,EAAE,EAJK;AAKdpB,IAAAA,YAAY,EAAE;AALA,GARe;AAe/BJ,EAAAA,YAAY,EAAE;AACZyB,IAAAA,UAAU,EAAE,mBADA;AAEZC,IAAAA,QAAQ,EAAE,EAFE;AAGZR,IAAAA,KAAK,EAAE;AAHK,GAfiB;AAoB/BjB,EAAAA,UAAU,EAAE;AACVwB,IAAAA,UAAU,EAAE,mBADF;AAEVC,IAAAA,QAAQ,EAAE,EAFA;AAGVR,IAAAA,KAAK,EAAE;AAHG,GApBmB;AAyB/BS,EAAAA,cAAc,EAAE;AACd7B,IAAAA,IAAI,EAAE,CADQ;AAEdgB,IAAAA,UAAU,EAAE;AAFE,GAzBe;AA6B/Bc,EAAAA,YAAY,EAAE;AACZH,IAAAA,UAAU,EAAE,mBADA;AAEZC,IAAAA,QAAQ,EAAE,EAFE;AAGZR,IAAAA,KAAK,EAAE,SAHK;AAIZW,IAAAA,MAAM,EAAE;AAJI,GA7BiB;AAmC/BhE,EAAAA,IAAI,EAAE;AACJ4D,IAAAA,UAAU,EAAE,qBADR;AAEJC,IAAAA,QAAQ,EAAE,EAFN;AAGJR,IAAAA,KAAK,EAAE;AAHH,GAnCyB;AAwC/BH,EAAAA,gBAAgB,EAAE;AAChBN,IAAAA,KAAK,EAAE,KADS;AAEhBN,IAAAA,aAAa,EAAE,KAFC;AAGhBkB,IAAAA,cAAc,EAAE;AAHA,GAxCa;AA6C/BL,EAAAA,MAAM,EAAE;AACNM,IAAAA,UAAU,EAAE,CADN;AAENQ,IAAAA,aAAa,EAAE,CAFT;AAGNC,IAAAA,WAAW,EAAE,EAHP;AAINC,IAAAA,YAAY,EAAE,EAJR;AAKNZ,IAAAA,eAAe,EAAE,mBALX;AAMNG,IAAAA,YAAY,EAAE;AANR,GA7CuB;AAqD/BN,EAAAA,UAAU,EAAE;AACVQ,IAAAA,UAAU,EAAE,mBADF;AAEVC,IAAAA,QAAQ,EAAE,EAFA;AAGVR,IAAAA,KAAK,EAAE;AAHG;AArDmB,CAAlB,CAAf","sourcesContent":["import 'react-native-gesture-handler';\nimport { StyleSheet, Text, View, ScrollView, PanResponder } from 'react-native';\nimport React, {useState,useEffect} from 'react';\nimport { useFonts, Poppins_300Light, Poppins_400Regular, Poppins_500Medium, Poppins_600SemiBold} from '@expo-google-fonts/poppins';\nimport { AppLoading } from 'expo';\nimport * as firebase from 'firebase'\nimport \"firebase/functions\";\nimport { AreaChart, Grid, LineChart} from 'react-native-svg-charts'\nimport * as shape from 'd3-shape'\nimport { Defs, LinearGradient, Stop, Path, G, Line, Circle} from 'react-native-svg'\nimport { event } from 'react-native-reanimated';\n\n\nexport default function Predictions() {\n  const [loading, setLoading] = useState(true);\n  const [cryptoData, setCryptoData] = useState({});\n  let [fontsLoaded] = useFonts({\n    Poppins_300Light,\n    Poppins_400Regular,\n    Poppins_500Medium,\n    Poppins_600SemiBold\n  });\n\n  useEffect(()=>{\n    if(loading && !fontsLoaded){\n    firebase.functions().httpsCallable('getCryptoData')({asset: 'bitcoin', start: '2020-01-01', end: '2020-02-01', interval: '1d'}).then(response =>{\n      if(response.data.statusCode == 200){\n        setCryptoData(response.data.body);\n        setLoading(false);\n      }\n      else{\n        console.error(response.data.body);\n      }\n    }).catch(error =>{\n      console.error(error);\n    })\n  }},[])\n\n  if (!fontsLoaded) {\n    return <AppLoading/>;\n  }\n  else{\n    if(!loading){\n      let data = [];\n      console.log(cryptoData);\n      (cryptoData.values).forEach(sample =>{\n        data.push(sample[4]);\n      })\n\n    return (\n      <View style={styles.container}>\n        <Chart name={cryptoData.name} symbol={cryptoData.symbol} currentPrice={\"17.000,00€\"} data={data}></Chart>\n      </View>\n    );\n    }\n    else{\n      return(\n        <View style={styles.container}>\n          <Text style={styles.text}>\n              LOADING...\n          </Text>\n        </View>\n      );\n    }\n  }\n};\n\n\nconst Chart = (props) => {\n  const data = props.data;\n  var swipeIndex = 10;\n  var chartWidth;\n  \n  const ChartLine = ({ line }) => (\n    <Path\n        key={'line'}\n        d={line}\n        stroke={'rgb(41, 114, 255)'}\n        fill={'none'}\n    />\n  )\n\n  const Gradient = ({ index }) => (\n    <Defs key={index}>\n        <LinearGradient id={'gradient'} x1={'0%'} y1={'0%'} x2={'0%'} y2={'100%'}>\n            <Stop offset={'0%'} stopColor={'rgb(41, 114, 255)'} stopOpacity={0.2}/>\n            <Stop offset={'28%'} stopColor={'rgb(41, 114, 255)'} stopOpacity={0}/>\n        </LinearGradient>\n    </Defs>\n  )\n\n  const Tooltip = ({ x, y }) => (\n    <G x={ x(swipeIndex) - (75 / 2) }>\n      <G x={ 75 / 2 }>\n          <Line\n            y1={ 120 }\n            y2={ 0 }\n            stroke={ 'rgba(41, 114, 255, 0.7)' }\n            strokeWidth={ 1 }\n          />\n          <Circle\n              cy={ y(data[swipeIndex]) }\n              r={ 4 }\n              fill={ 'rgb(41, 114, 255)' }\n          />\n      </G>\n    </G>\n  )\n\n  const panResponder = React.useRef(\n    PanResponder.create({\n      onStartShouldSetPanResponder: () => true,\n      onStartShouldSetPanResponderCapture: () => true,\n      onMoveShouldSetPanResponder: () => true,\n      onMoveShouldSetPanResponderCapture: () => true,\n\n      onPanResponderGrant: (evt, gestureState) => {\n        if(evt.nativeEvent.locationX >= 0 && evt.nativeEvent.locationX <= chartWidth){\n          swipeIndex = Math.floor((evt.nativeEvent.locationX / chartWidth) * data.length);\n        }\n        console.log(swipeIndex);\n      },\n      onPanResponderMove: (evt, gestureState) => {\n        swipeIndex = Math.floor((evt.nativeEvent.locationX / chartWidth) * data.length);\n        console.log(swipeIndex);\n      },\n      onPanResponderRelease: () => {\n        return;\n      },\n      onPanResponderTerminate: () => {\n        return;\n      }\n    })\n  ).current;\n\n  return (\n    <View style={styles.chartContainer}>\n      <View style={{flex: 1, textAlign: 'left'}}>\n        <Text style={styles.cryptoSymbol}>{props.symbol}</Text>\n        <Text style={styles.cryptoName}>{props.name}</Text>\n      </View>\n\n      <View style={{ height: 120, flexDirection: 'row', marginBottom: 15, marginTop: 15 }}>\n          <View style={{ flex: 1, marginLeft: 10 }} {...panResponder.panHandlers} onLayout={(event) => {chartWidth = event.nativeEvent.layout.width;}}>\n            <AreaChart\n              style={{ flex:1, height: 120 }}\n              data={props.data}\n              contentInset={{ top: 10, bottom: 10 }}\n              curve={shape.curveNatural}\n              svg={{ fill: 'url(#gradient)' }}\n              >\n              <Tooltip/>\n              <ChartLine/>\n              <Gradient/>\n            </AreaChart>\n          </View>\n      </View>\n\n      <View style={{flex: 1, alignItems: 'center', marginTop: 20}}>\n        <View style={styles.buttonsContainer}>\n          <View style={styles.button}>\n            <Text style={styles.buttonText} style={{color: '#ffffff'}}>\n              1D\n            </Text>\n          </View>\n          <View>\n            <Text style={styles.buttonText}>\n              1W\n            </Text>\n          </View>\n          <View>\n            <Text style={styles.buttonText}>\n              1M\n            </Text>\n          </View>\n          <View>\n            <Text style={styles.buttonText}>\n              1Y\n            </Text>\n          </View>\n          <View>\n            <Text style={styles.buttonText}>\n              ALWAYS\n            </Text>\n          </View>\n        </View>\n      </View>\n    </View>\n  );\n};\n\n\nconst styles = StyleSheet.create({\n  container: {\n    flex:1,\n    backgroundColor: '#e9f0ff',\n    alignItems: 'center',\n    justifyContent: 'flex-start',\n    paddingTop: 30\n  },\n  chartContainer: {\n    backgroundColor: '#ffffff',\n    width: '90%',\n    borderRadius: 20,\n    padding: 20,\n    marginBottom: 20\n  },\n  cryptoSymbol: {\n    fontFamily: 'Poppins_500Medium',\n    fontSize: 25,\n    color: '#000000'\n  },\n  cryptoName: {\n    fontFamily: 'Poppins_500Medium',\n    fontSize: 20,\n    color: '#000000'\n  },\n  priceContainer: {\n    flex: 1,\n    alignItems: 'center'\n  },\n  currentPrice: {\n    fontFamily: 'Poppins_500Medium',\n    fontSize: 18,\n    color: '#000000',\n    margin: 0\n  },\n  text: {\n    fontFamily: 'Poppins_600SemiBold',\n    fontSize: 30,\n    color: '#000000'\n  },\n  buttonsContainer: {\n    width: '80%', \n    flexDirection: 'row', \n    justifyContent: 'space-between'\n  },\n  button: {\n    paddingTop: 5,\n    paddingBottom: 5,\n    paddingLeft: 10,\n    paddingRight: 10,\n    backgroundColor: 'rgb(41, 114, 255)',\n    borderRadius: 30\n  },\n  buttonText: {\n    fontFamily: 'Poppins_500Medium',\n    fontSize: 12,\n    color: '#000000'\n  }\n});"]},"metadata":{},"sourceType":"module"}